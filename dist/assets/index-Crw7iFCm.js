(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var mf={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function h0(){if(Up)return Ml;Up=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var Lp;function f0(){return Lp||(Lp=1,mf.exports=h0()),mf.exports}var W=f0(),gf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function d0(){if(zp)return St;zp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),O=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,tt={};function Z(V,Y,ut){this.props=V,this.context=Y,this.refs=tt,this.updater=ut||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function vt(){}vt.prototype=Z.prototype;function gt(V,Y,ut){this.props=V,this.context=Y,this.refs=tt,this.updater=ut||j}var et=gt.prototype=new vt;et.constructor=gt,X(et,Z.prototype),et.isPureReactComponent=!0;var Lt=Array.isArray,lt={H:null,A:null,T:null,S:null},ht=Object.prototype.hasOwnProperty;function C(V,Y,ut,nt,it,bt){return ut=bt.ref,{$$typeof:a,type:V,key:Y,ref:ut!==void 0?ut:null,props:bt}}function b(V,Y){return C(V.type,Y,void 0,void 0,void 0,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function D(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return Y[ut]})}var M=/\/+/g;function L(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Y.toString(36)}function w(){}function ge(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function oe(V,Y,ut,nt,it){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var At=!1;if(V===null)At=!0;else switch(bt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(V.$$typeof){case a:case e:At=!0;break;case S:return At=V._init,oe(At(V._payload),Y,ut,nt,it)}}if(At)return it=it(V),At=nt===""?"."+L(V,0):nt,Lt(it)?(ut="",At!=null&&(ut=At.replace(M,"$&/")+"/"),oe(it,Y,ut,"",function(ee){return ee})):it!=null&&(A(it)&&(it=b(it,ut+(it.key==null||V&&V.key===it.key?"":(""+it.key).replace(M,"$&/")+"/")+At)),Y.push(it)),1;At=0;var ce=nt===""?".":nt+":";if(Lt(V))for(var zt=0;zt<V.length;zt++)nt=V[zt],bt=ce+L(nt,zt),At+=oe(nt,Y,ut,bt,it);else if(zt=z(V),typeof zt=="function")for(V=zt.call(V),zt=0;!(nt=V.next()).done;)nt=nt.value,bt=ce+L(nt,zt++),At+=oe(nt,Y,ut,bt,it);else if(bt==="object"){if(typeof V.then=="function")return oe(ge(V),Y,ut,nt,it);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return At}function J(V,Y,ut){if(V==null)return V;var nt=[],it=0;return oe(V,nt,"","",function(bt){return Y.call(ut,bt,it++)}),nt}function pt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function qt(){}return St.Children={map:J,forEach:function(V,Y,ut){J(V,function(){Y.apply(this,arguments)},ut)},count:function(V){var Y=0;return J(V,function(){Y++}),Y},toArray:function(V){return J(V,function(Y){return Y})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},St.Component=Z,St.Fragment=i,St.Profiler=u,St.PureComponent=gt,St.StrictMode=s,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cloneElement=function(V,Y,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var nt=X({},V.props),it=V.key,bt=void 0;if(Y!=null)for(At in Y.ref!==void 0&&(bt=void 0),Y.key!==void 0&&(it=""+Y.key),Y)!ht.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(nt[At]=Y[At]);var At=arguments.length-2;if(At===1)nt.children=ut;else if(1<At){for(var ce=Array(At),zt=0;zt<At;zt++)ce[zt]=arguments[zt+2];nt.children=ce}return C(V.type,it,void 0,void 0,bt,nt)},St.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},St.createElement=function(V,Y,ut){var nt,it={},bt=null;if(Y!=null)for(nt in Y.key!==void 0&&(bt=""+Y.key),Y)ht.call(Y,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(it[nt]=Y[nt]);var At=arguments.length-2;if(At===1)it.children=ut;else if(1<At){for(var ce=Array(At),zt=0;zt<At;zt++)ce[zt]=arguments[zt+2];it.children=ce}if(V&&V.defaultProps)for(nt in At=V.defaultProps,At)it[nt]===void 0&&(it[nt]=At[nt]);return C(V,bt,void 0,void 0,null,it)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:g,render:V}},St.isValidElement=A,St.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:pt}},St.memo=function(V,Y){return{$$typeof:v,type:V,compare:Y===void 0?null:Y}},St.startTransition=function(V){var Y=lt.T,ut={};lt.T=ut;try{var nt=V(),it=lt.S;it!==null&&it(ut,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(qt,ft)}catch(bt){ft(bt)}finally{lt.T=Y}},St.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},St.use=function(V){return lt.H.use(V)},St.useActionState=function(V,Y,ut){return lt.H.useActionState(V,Y,ut)},St.useCallback=function(V,Y){return lt.H.useCallback(V,Y)},St.useContext=function(V){return lt.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,Y){return lt.H.useDeferredValue(V,Y)},St.useEffect=function(V,Y){return lt.H.useEffect(V,Y)},St.useId=function(){return lt.H.useId()},St.useImperativeHandle=function(V,Y,ut){return lt.H.useImperativeHandle(V,Y,ut)},St.useInsertionEffect=function(V,Y){return lt.H.useInsertionEffect(V,Y)},St.useLayoutEffect=function(V,Y){return lt.H.useLayoutEffect(V,Y)},St.useMemo=function(V,Y){return lt.H.useMemo(V,Y)},St.useOptimistic=function(V,Y){return lt.H.useOptimistic(V,Y)},St.useReducer=function(V,Y,ut){return lt.H.useReducer(V,Y,ut)},St.useRef=function(V){return lt.H.useRef(V)},St.useState=function(V){return lt.H.useState(V)},St.useSyncExternalStore=function(V,Y,ut){return lt.H.useSyncExternalStore(V,Y,ut)},St.useTransition=function(){return lt.H.useTransition()},St.version="19.0.0",St}var Bp;function Zf(){return Bp||(Bp=1,gf.exports=d0()),gf.exports}var Ae=Zf(),pf={exports:{}},xl={},yf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function m0(){return Pp||(Pp=1,function(a){function e(J,pt){var ft=J.length;J.push(pt);t:for(;0<ft;){var qt=ft-1>>>1,V=J[qt];if(0<u(V,pt))J[qt]=pt,J[ft]=V,ft=qt;else break t}}function i(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var pt=J[0],ft=J.pop();if(ft!==pt){J[0]=ft;t:for(var qt=0,V=J.length,Y=V>>>1;qt<Y;){var ut=2*(qt+1)-1,nt=J[ut],it=ut+1,bt=J[it];if(0>u(nt,ft))it<V&&0>u(bt,nt)?(J[qt]=bt,J[it]=ft,qt=it):(J[qt]=nt,J[ut]=ft,qt=ut);else if(it<V&&0>u(bt,ft))J[qt]=bt,J[it]=ft,qt=it;else break t}}return pt}function u(J,pt){var ft=J.sortIndex-pt.sortIndex;return ft!==0?ft:J.id-pt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,O=null,z=3,j=!1,X=!1,tt=!1,Z=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function et(J){for(var pt=i(v);pt!==null;){if(pt.callback===null)s(v);else if(pt.startTime<=J)s(v),pt.sortIndex=pt.expirationTime,e(_,pt);else break;pt=i(v)}}function Lt(J){if(tt=!1,et(J),!X)if(i(_)!==null)X=!0,ge();else{var pt=i(v);pt!==null&&oe(Lt,pt.startTime-J)}}var lt=!1,ht=-1,C=5,b=-1;function A(){return!(a.unstable_now()-b<C)}function D(){if(lt){var J=a.unstable_now();b=J;var pt=!0;try{t:{X=!1,tt&&(tt=!1,vt(ht),ht=-1),j=!0;var ft=z;try{e:{for(et(J),O=i(_);O!==null&&!(O.expirationTime>J&&A());){var qt=O.callback;if(typeof qt=="function"){O.callback=null,z=O.priorityLevel;var V=qt(O.expirationTime<=J);if(J=a.unstable_now(),typeof V=="function"){O.callback=V,et(J),pt=!0;break e}O===i(_)&&s(_),et(J)}else s(_);O=i(_)}if(O!==null)pt=!0;else{var Y=i(v);Y!==null&&oe(Lt,Y.startTime-J),pt=!1}}break t}finally{O=null,z=ft,j=!1}pt=void 0}}finally{pt?M():lt=!1}}}var M;if(typeof gt=="function")M=function(){gt(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,M=function(){w.postMessage(null)}}else M=function(){Z(D,0)};function ge(){lt||(lt=!0,M())}function oe(J,pt){ht=Z(function(){J(a.unstable_now())},pt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(J){J.callback=null},a.unstable_continueExecution=function(){X||j||(X=!0,ge())},a.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},a.unstable_getCurrentPriorityLevel=function(){return z},a.unstable_getFirstCallbackNode=function(){return i(_)},a.unstable_next=function(J){switch(z){case 1:case 2:case 3:var pt=3;break;default:pt=z}var ft=z;z=pt;try{return J()}finally{z=ft}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(J,pt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ft=z;z=J;try{return pt()}finally{z=ft}},a.unstable_scheduleCallback=function(J,pt,ft){var qt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?qt+ft:qt):ft=qt,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,J={id:S++,callback:pt,priorityLevel:J,startTime:ft,expirationTime:V,sortIndex:-1},ft>qt?(J.sortIndex=ft,e(v,J),i(_)===null&&J===i(v)&&(tt?(vt(ht),ht=-1):tt=!0,oe(Lt,ft-qt))):(J.sortIndex=V,e(_,J),X||j||(X=!0,ge())),J},a.unstable_shouldYield=A,a.unstable_wrapCallback=function(J){var pt=z;return function(){var ft=z;z=pt;try{return J.apply(this,arguments)}finally{z=ft}}}}(_f)),_f}var kp;function g0(){return kp||(kp=1,yf.exports=m0()),yf.exports}var vf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function p0(){if(qp)return He;qp=1;var a=Zf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,S){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:O==null?null:""+O,children:_,containerInfo:v,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},He.flushSync=function(_){var v=d.T,S=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=S,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,O=g(S,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:z,fetchPriority:j}):S==="script"&&s.d.X(_,{crossOrigin:O,integrity:z,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,O=g(S,v.crossOrigin);s.d.L(_,S,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var jp;function y0(){if(jp)return vf.exports;jp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),vf.exports=p0(),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function _0(){if(Hp)return xl;Hp=1;var a=g0(),e=Zf(),i=y0();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),j=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),vt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),Lt=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function ht(t){return t===null||typeof t!="object"?null:(t=lt&&t[lt]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case tt:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vt:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case gt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,L;function w(t){if(M===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+L}var ge=!1;function oe(t,n){if(!t||ge)return"";ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var P=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){P=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){P=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),N=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===N.length)for(l=R.length-1,c=N.length-1;1<=l&&0<=c&&R[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==N[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function pt(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ft(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(ft(t)!==t)throw Error(s(188))}function Y(t){var n=t.alternate;if(!n){if(n=ft(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return V(c),t;if(f===l)return V(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ut(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ut(t),n!==null)return n;t=t.sibling}return null}var nt=Array.isArray,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},At=[],ce=-1;function zt(t){return{current:t}}function ee(t){0>ce||(t.current=At[ce],At[ce]=null,ce--)}function Gt(t,n){ce++,At[ce]=t.current,t.current=n}var Ke=zt(null),ai=zt(null),mn=zt(null),zi=zt(null);function Bi(t,n){switch(Gt(mn,n),Gt(ai,t),Gt(Ke,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?cp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=cp(t),n=hp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(Ke),Gt(Ke,n)}function li(){ee(Ke),ee(ai),ee(mn)}function Ca(t){t.memoizedState!==null&&Gt(zi,t);var n=Ke.current,r=hp(n,t.type);n!==r&&(Gt(ai,t),Gt(Ke,r))}function vs(t){ai.current===t&&(ee(Ke),ee(ai)),zi.current===t&&(ee(zi),Cl._currentValue=bt)}var Es=Object.prototype.hasOwnProperty,xr=a.unstable_scheduleCallback,Ts=a.unstable_cancelCallback,gc=a.unstable_shouldYield,Va=a.unstable_requestPaint,We=a.unstable_now,nu=a.unstable_getCurrentPriorityLevel,pe=a.unstable_ImmediatePriority,we=a.unstable_UserBlockingPriority,ui=a.unstable_NormalPriority,iu=a.unstable_LowPriority,Oa=a.unstable_IdlePriority,pc=a.log,Ur=a.unstable_setDisableYieldValue,Pi=null,qe=null;function Ia(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Pi,t,void 0,(t.current.flags&128)===128)}catch{}}function Pn(t){if(typeof pc=="function"&&Ur(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Pi,t)}catch{}}var Ye=Math.clz32?Math.clz32:su,Na=Math.log,ru=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(Na(t)/ru|0)|0}var kn=128,ki=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Nn(r):(f&=E,f!==0?l=Nn(f):t||(y=E&~y,y!==0&&(l=Nn(y))))):(E=r&~c,E!==0?l=Nn(E):f!==0?l=Nn(f):t||(y=r&~y,y!==0&&(l=Nn(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function As(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(){var t=kn;return kn<<=1,(kn&4194176)===0&&(kn=128),t}function ji(){var t=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),t}function Ss(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function au(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,N=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ye(r),F=1<<H;E[H]=0,R[H]=-1;var P=N[H];if(P!==null)for(N[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Hi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Hi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Gi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function lu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Vp(t.type))}function Qi(t,n){var r=it.p;try{return it.p=t,n()}finally{it.p=r}}var qn=Math.random().toString(36).slice(2),De="__reactFiber$"+qn,ye="__reactProps$"+qn,oi="__reactContainer$"+qn,Lr="__reactEvents$"+qn,bs="__reactListeners$"+qn,jn="__reactHandles$"+qn,xa="__reactResources$"+qn,Fi="__reactMarker$"+qn;function zr(t){delete t[De],delete t[ye],delete t[Lr],delete t[bs],delete t[jn]}function Mn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=mp(t);t!==null;){if(r=t[De])return r;t=mp(t)}return n}t=r,r=t.parentNode}return null}function ci(t){if(t=t[De]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ki(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Yi(t){var n=t[xa];return n||(n=t[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[Fi]=!0}var Ua=new Set,Rs={};function an(t,n){tn(t,n),tn(t+"Capture",n)}function tn(t,n){for(Rs[t]=n,t=0;t<n.length;t++)Ua.add(n[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),La={},za={};function ou(t){return Es.call(za,t)?!0:Es.call(La,t)?!1:yc.test(t)?za[t]=!0:(La[t]=!0,!1)}function Xi(t,n,r){if(ou(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Zi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _c(t){var n=cu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Br(t){t._valueTracker||(t._valueTracker=_c(t))}function Ba(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=cu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hi=/[\n"\\]/g;function ne(t){return t.replace(hi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $i(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ds(t,y,Xe(n)):r!=null?Ds(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Pr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ds(t,n,r){n==="number"&&ws(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function kr(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Ji(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pa(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function hu(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Pa(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Pa(t,f,n[f])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function Cs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function mi(t){var n=ci(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if($i(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(s(90));$i(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ba(l)}break t;case"textarea":kr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Bt(t,!!r.multiple,n,!1)}}}var qa=!1;function fu(t,n,r){if(qa)return t(n,r);qa=!0;try{var l=t(n);return l}finally{if(qa=!1,(fi!==null||di!==null)&&(io(),fi&&(n=fi,t=di,di=fi=null,mi(n),t)))for(n=0;n<t.length;n++)mi(t[n])}}function qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var vn=!1;if(ln)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{vn=!1}var Gn=null,Wi=null,gi=null;function ja(){if(gi)return gi;var t,n=Wi,r=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Ha(){return!1}function Ce(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Ha,this.isPropagationStopped=Ha,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=Ce(jt),Hr=D({},jt,{view:0,detail:0}),du=Ce(Hr),Os,Is,Kn,Gr=D({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Os=t.screenX-Kn.screenX,Is=t.screenY-Kn.screenY):Is=Os=0,Kn=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Is}}),En=Ce(Gr),mu=D({},Gr,{dataTransfer:0}),Ac=Ce(mu),Qr=D({},Hr,{relatedTarget:0}),Ns=Ce(Qr),Ga=D({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=Ce(Ga),gu=D({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xs=Ce(gu),Sc=D({},jt,{data:0}),Qa=Ce(Sc),Fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function Kr(){return Fa}var _u=D({},Hr,{key:function(t){if(t.key){var n=Fr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Us=Ce(_u),vu=D({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ka=Ce(vu),pi=D({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Eu=Ce(pi),Tu=D({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=Ce(Tu),Su=D({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=Ce(Su),Ze=D({},jt,{newState:0,oldState:0}),bu=Ce(Ze),Ru=[9,13,27,32],Yn=ln&&"CompositionEvent"in window,o=null;ln&&"documentMode"in document&&(o=document.documentMode);var m=ln&&"TextEvent"in window&&!o,p=ln&&(!Yn||o&&8<o&&11>=o),T=" ",U=!1;function k(t,n){switch(t){case"keyup":return Ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function _e(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Yn&&k(t,n)?(t=ja(),gi=Wi=Gn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function yi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=uo(n,"onChange"),0<n.length&&(r=new Vs("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Xn=null;function Ya(t){sp(t,0)}function wu(t){var n=Ki(t);if(Ba(n))return t}function xd(t,n){if(t==="change")return n}var Ud=!1;if(ln){var bc;if(ln){var Rc="oninput"in document;if(!Rc){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Rc=typeof Ld.oninput=="function"}bc=Rc}else bc=!1;Ud=bc&&(!document.documentMode||9<document.documentMode)}function zd(){xe&&(xe.detachEvent("onpropertychange",Bd),Xn=xe=null)}function Bd(t){if(t.propertyName==="value"&&wu(Xn)){var n=[];yi(n,Xn,t,Cs(t)),fu(Ya,n)}}function qv(t,n,r){t==="focusin"?(zd(),xe=n,Xn=r,xe.attachEvent("onpropertychange",Bd)):t==="focusout"&&zd()}function jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Xn)}function Hv(t,n){if(t==="click")return wu(n)}function Gv(t,n){if(t==="input"||t==="change")return wu(n)}function Qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:Qv;function Xa(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Es.call(n,c)||!un(t[c],n[c]))return!1}return!0}function Pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,n){var r=Pd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Pd(r)}}function qd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ws(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ws(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Fv(t,n){var r=jd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&qd(n.ownerDocument.documentElement,n)){if(l!==null&&wc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=kd(n,f);var y=kd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Kv=ln&&"documentMode"in document&&11>=document.documentMode,zs=null,Dc=null,Za=null,Cc=!1;function Hd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||zs==null||zs!==ws(l)||(l=zs,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Za&&Xa(Za,l)||(Za=l,l=uo(Dc,"onSelect"),0<l.length&&(n=new Vs("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=zs)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Bs={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Vc={},Gd={};ln&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Xr(t){if(Vc[t])return Vc[t];if(!Bs[t])return t;var n=Bs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gd)return Vc[t]=n[r];return t}var Qd=Xr("animationend"),Fd=Xr("animationiteration"),Kd=Xr("animationstart"),Yv=Xr("transitionrun"),Xv=Xr("transitionstart"),Zv=Xr("transitioncancel"),Yd=Xr("transitionend"),Xd=new Map,Zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xn(t,n){Xd.set(t,n),an(n,[t])}var Tn=[],Ps=0,Oc=0;function Du(){for(var t=Ps,n=Oc=Ps=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&$d(r,c,f)}}function Cu(t,n,r,l){Tn[Ps++]=t,Tn[Ps++]=n,Tn[Ps++]=r,Tn[Ps++]=l,Oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Cu(t,n,r,l),Vu(t)}function tr(t,n){return Cu(t,null,null,n),Vu(t)}function $d(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Vu(t){if(50<Tl)throw Tl=0,zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ks={},Jd=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=Jd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pt(n)},Jd.set(t,n),n)}return{value:t,source:n,stack:pt(n)}}var qs=[],js=0,Ou=null,Iu=0,Sn=[],bn=0,Zr=null,_i=1,vi="";function $r(t,n){qs[js++]=Iu,qs[js++]=Ou,Ou=t,Iu=n}function Wd(t,n,r){Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Zr,Zr=t;var l=_i;t=vi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-Ye(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function Nc(t){t.return!==null&&($r(t,1),Wd(t,1,0))}function Mc(t){for(;t===Ou;)Ou=qs[--js],qs[js]=null,Iu=qs[--js],qs[js]=null;for(;t===Zr;)Zr=Sn[--bn],Sn[bn]=null,vi=Sn[--bn],Sn[bn]=null,_i=Sn[--bn],Sn[bn]=null}var $e=null,Ue=null,Pt=!1,Un=null,Zn=!1,xc=Error(s(519));function Jr(t){var n=Error(s(418,""));throw Wa(An(n,t)),xc}function tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ye]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Sl.length;r++)Vt(Sl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Pr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Br(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ji(n,l.value,l.defaultValue,l.children),Br(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||op(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Jr(t)}function em(t){for($e=t.return;$e;)switch($e.tag){case 3:case 27:Zn=!0;return;case 5:case 13:Zn=!1;return;default:$e=$e.return}}function $a(t){if(t!==$e)return!1;if(!Pt)return em(t),Pt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Jr(t),em(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=zn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=$e?zn(t.stateNode.nextSibling):null;return!0}function Ja(){Ue=$e=null,Pt=!1}function Wa(t){Un===null?Un=[t]:Un.push(t)}var tl=Error(s(460)),nm=Error(s(474)),Uc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nu(){}function rm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Nu,Nu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===tl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Nu,Nu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===tl?Error(s(483)):t}throw el=n,tl}}var el=null;function sm(){if(el===null)throw Error(s(459));var t=el;return el=null,t}var Hs=null,nl=0;function Mu(t){var n=nl;return nl+=1,Hs===null&&(Hs=[]),rm(Hs,t,n)}function il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xu(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function am(t){var n=t._init;return n(t._payload)}function lm(t){function n(x,I){if(t){var B=x.deletions;B===null?(x.deletions=[I],x.flags|=16):B.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=fr(x,I),x.index=0,x.sibling=null,x}function f(x,I,B){return x.index=B,t?(B=x.alternate,B!==null?(B=B.index,B<I?(x.flags|=33554434,I):B):(x.flags|=33554434,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,I,B,G){return I===null||I.tag!==6?(I=Vh(B,x.mode,G),I.return=x,I):(I=c(I,B),I.return=x,I)}function R(x,I,B,G){var st=B.type;return st===_?H(x,I,B.props.children,G,B.key):I!==null&&(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===gt&&am(st)===I.type)?(I=c(I,B.props),il(I,B),I.return=x,I):(I=Ju(B.type,B.key,B.props,null,x.mode,G),il(I,B),I.return=x,I)}function N(x,I,B,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=Oh(B,x.mode,G),I.return=x,I):(I=c(I,B.children||[]),I.return=x,I)}function H(x,I,B,G,st){return I===null||I.tag!==7?(I=us(B,x.mode,G,st),I.return=x,I):(I=c(I,B),I.return=x,I)}function F(x,I,B){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Vh(""+I,x.mode,B),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return B=Ju(I.type,I.key,I.props,null,x.mode,B),il(B,I),B.return=x,B;case g:return I=Oh(I,x.mode,B),I.return=x,I;case gt:var G=I._init;return I=G(I._payload),F(x,I,B)}if(nt(I)||ht(I))return I=us(I,x.mode,B,null),I.return=x,I;if(typeof I.then=="function")return F(x,Mu(I),B);if(I.$$typeof===j)return F(x,Xu(x,I),B);xu(x,I)}return null}function P(x,I,B,G){var st=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return st!==null?null:E(x,I,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===st?R(x,I,B,G):null;case g:return B.key===st?N(x,I,B,G):null;case gt:return st=B._init,B=st(B._payload),P(x,I,B,G)}if(nt(B)||ht(B))return st!==null?null:H(x,I,B,G,null);if(typeof B.then=="function")return P(x,I,Mu(B),G);if(B.$$typeof===j)return P(x,I,Xu(x,B),G);xu(x,B)}return null}function q(x,I,B,G,st){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(B)||null,E(I,x,""+G,st);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return x=x.get(G.key===null?B:G.key)||null,R(I,x,G,st);case g:return x=x.get(G.key===null?B:G.key)||null,N(I,x,G,st);case gt:var wt=G._init;return G=wt(G._payload),q(x,I,B,G,st)}if(nt(G)||ht(G))return x=x.get(B)||null,H(I,x,G,st,null);if(typeof G.then=="function")return q(x,I,B,Mu(G),st);if(G.$$typeof===j)return q(x,I,B,Xu(I,G),st);xu(I,G)}return null}function at(x,I,B,G){for(var st=null,wt=null,ct=I,mt=I=0,Ne=null;ct!==null&&mt<B.length;mt++){ct.index>mt?(Ne=ct,ct=null):Ne=ct.sibling;var kt=P(x,ct,B[mt],G);if(kt===null){ct===null&&(ct=Ne);break}t&&ct&&kt.alternate===null&&n(x,ct),I=f(kt,I,mt),wt===null?st=kt:wt.sibling=kt,wt=kt,ct=Ne}if(mt===B.length)return r(x,ct),Pt&&$r(x,mt),st;if(ct===null){for(;mt<B.length;mt++)ct=F(x,B[mt],G),ct!==null&&(I=f(ct,I,mt),wt===null?st=ct:wt.sibling=ct,wt=ct);return Pt&&$r(x,mt),st}for(ct=l(ct);mt<B.length;mt++)Ne=q(ct,x,mt,B[mt],G),Ne!==null&&(t&&Ne.alternate!==null&&ct.delete(Ne.key===null?mt:Ne.key),I=f(Ne,I,mt),wt===null?st=Ne:wt.sibling=Ne,wt=Ne);return t&&ct.forEach(function(vr){return n(x,vr)}),Pt&&$r(x,mt),st}function Et(x,I,B,G){if(B==null)throw Error(s(151));for(var st=null,wt=null,ct=I,mt=I=0,Ne=null,kt=B.next();ct!==null&&!kt.done;mt++,kt=B.next()){ct.index>mt?(Ne=ct,ct=null):Ne=ct.sibling;var vr=P(x,ct,kt.value,G);if(vr===null){ct===null&&(ct=Ne);break}t&&ct&&vr.alternate===null&&n(x,ct),I=f(vr,I,mt),wt===null?st=vr:wt.sibling=vr,wt=vr,ct=Ne}if(kt.done)return r(x,ct),Pt&&$r(x,mt),st;if(ct===null){for(;!kt.done;mt++,kt=B.next())kt=F(x,kt.value,G),kt!==null&&(I=f(kt,I,mt),wt===null?st=kt:wt.sibling=kt,wt=kt);return Pt&&$r(x,mt),st}for(ct=l(ct);!kt.done;mt++,kt=B.next())kt=q(ct,x,mt,kt.value,G),kt!==null&&(t&&kt.alternate!==null&&ct.delete(kt.key===null?mt:kt.key),I=f(kt,I,mt),wt===null?st=kt:wt.sibling=kt,wt=kt);return t&&ct.forEach(function(c0){return n(x,c0)}),Pt&&$r(x,mt),st}function se(x,I,B,G){if(typeof B=="object"&&B!==null&&B.type===_&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var st=B.key;I!==null;){if(I.key===st){if(st=B.type,st===_){if(I.tag===7){r(x,I.sibling),G=c(I,B.props.children),G.return=x,x=G;break t}}else if(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===gt&&am(st)===I.type){r(x,I.sibling),G=c(I,B.props),il(G,B),G.return=x,x=G;break t}r(x,I);break}else n(x,I);I=I.sibling}B.type===_?(G=us(B.props.children,x.mode,G,B.key),G.return=x,x=G):(G=Ju(B.type,B.key,B.props,null,x.mode,G),il(G,B),G.return=x,x=G)}return y(x);case g:t:{for(st=B.key;I!==null;){if(I.key===st)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){r(x,I.sibling),G=c(I,B.children||[]),G.return=x,x=G;break t}else{r(x,I);break}else n(x,I);I=I.sibling}G=Oh(B,x.mode,G),G.return=x,x=G}return y(x);case gt:return st=B._init,B=st(B._payload),se(x,I,B,G)}if(nt(B))return at(x,I,B,G);if(ht(B)){if(st=ht(B),typeof st!="function")throw Error(s(150));return B=st.call(B),Et(x,I,B,G)}if(typeof B.then=="function")return se(x,I,Mu(B),G);if(B.$$typeof===j)return se(x,I,Xu(x,B),G);xu(x,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,I!==null&&I.tag===6?(r(x,I.sibling),G=c(I,B),G.return=x,x=G):(r(x,I),G=Vh(B,x.mode,G),G.return=x,x=G),y(x)):r(x,I)}return function(x,I,B,G){try{nl=0;var st=se(x,I,B,G);return Hs=null,st}catch(ct){if(ct===tl)throw ct;var wt=Cn(29,ct,null,x.mode);return wt.lanes=G,wt.return=x,wt}finally{}}}var Wr=lm(!0),um=lm(!1),Gs=zt(null),Uu=zt(0);function om(t,n){t=Oi,Gt(Uu,t),Gt(Gs,n),Oi=t|n.baseLanes}function Lc(){Gt(Uu,Oi),Gt(Gs,Gs.current)}function zc(){Oi=Uu.current,ee(Gs),ee(Uu)}var Rn=zt(null),$n=null;function er(t){var n=t.alternate;Gt(Ee,Ee.current&1),Gt(Rn,t),$n===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&($n=t)}function cm(t){if(t.tag===22){if(Gt(Ee,Ee.current),Gt(Rn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else nr()}function nr(){Gt(Ee,Ee.current),Gt(Rn,Rn.current)}function Ei(t){ee(Rn),$n===t&&($n=null),ee(Ee)}var Ee=zt(0);function Lu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $v=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Jv=a.unstable_scheduleCallback,Wv=a.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new $v,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&Jv(Wv,function(){t.controller.abort()})}var sl=null,Pc=0,Qs=0,Fs=null;function tE(t,n){if(sl===null){var r=sl=[];Pc=0,Qs=Qh(),Fs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Pc++,n.then(hm,hm),n}function hm(){if(--Pc===0&&sl!==null){Fs!==null&&(Fs.status="fulfilled");var t=sl;sl=null,Qs=0,Fs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function eE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var fm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&tE(t,n),fm!==null&&fm(t,n)};var ts=zt(null);function kc(){var t=ts.current;return t!==null?t:Yt.pooledCache}function zu(t,n){n===null?Gt(ts,ts.current):Gt(ts,n.pool)}function dm(){var t=kc();return t===null?null:{parent:Te._currentValue,pool:t}}var ir=0,Rt=null,Qt=null,he=null,Bu=!1,Ks=!1,es=!1,Pu=0,al=0,Ys=null,nE=0;function le(){throw Error(s(321))}function qc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!un(t[r],n[r]))return!1;return!0}function jc(t,n,r,l,c,f){return ir=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?ns:rr,es=!1,f=r(l,c),es=!1,Ks&&(f=gm(n,r,l,c)),mm(t),f}function mm(t){A.H=Jn;var n=Qt!==null&&Qt.next!==null;if(ir=0,he=Qt=Rt=null,Bu=!1,al=0,Ys=null,n)throw Error(s(300));t===null||Oe||(t=t.dependencies,t!==null&&Yu(t)&&(Oe=!0))}function gm(t,n,r,l){Rt=t;var c=0;do{if(Ks&&(Ys=null),al=0,Ks=!1,25<=c)throw Error(s(301));if(c+=1,he=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=is,f=n(r,l)}while(Ks);return f}function iE(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Hc(){var t=Pu!==0;return Pu=0,t}function Gc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Qc(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}ir=0,he=Qt=Rt=null,Ks=!1,al=Pu=0,Ys=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Rt.memoizedState=he=t:he=he.next=t,he}function fe(){if(Qt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=he===null?Rt.memoizedState:he.next;if(n!==null)he=n,Qt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},he===null?Rt.memoizedState=he=t:he=he.next=t}return he}var ku;ku=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ll(t){var n=al;return al+=1,Ys===null&&(Ys=[]),t=rm(Ys,t,n),n=Rt,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ns:rr),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===j)return je(t)}throw Error(s(438,String(t)))}function Fc(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ku(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Lt;return n.index++,r}function Ti(t,n){return typeof n=="function"?n(t):n}function ju(t){var n=fe();return Kc(n,Qt,t)}function Kc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,N=n,H=!1;do{var F=N.lane&-536870913;if(F!==N.lane?(Mt&F)===F:(ir&F)===F){var P=N.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),F===Qs&&(H=!0);else if((ir&P)===P){N=N.next,P===Qs&&(H=!0);continue}else F={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},R===null?(E=R=F,y=f):R=R.next=F,Rt.lanes|=P,dr|=P;F=N.action,es&&r(f,F),f=N.hasEagerState?N.eagerState:r(f,F)}else P={lane:F,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},R===null?(E=R=P,y=f):R=R.next=P,Rt.lanes|=F,dr|=F;N=N.next}while(N!==null&&N!==n);if(R===null?y=f:R.next=E,!un(f,t.memoizedState)&&(Oe=!0,H&&(r=Fs,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yc(t){var n=fe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);un(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function pm(t,n,r){var l=Rt,c=fe(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!un((Qt||c).memoizedState,r);if(y&&(c.memoizedState=r,Oe=!0),c=c.queue,$c(vm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Xs(9,_m.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(s(349));f||(ir&60)!==0||ym(l,n,r)}return r}function ym(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=ku(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _m(t,n,r,l){n.value=r,n.getSnapshot=l,Em(n)&&Tm(t)}function vm(t,n,r){return r(function(){Em(n)&&Tm(t)})}function Em(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!un(t,r)}catch{return!0}}function Tm(t){var n=tr(t,2);n!==null&&Je(n,t,2)}function Xc(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),es){Pn(!0);try{r()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},n}function Am(t,n,r,l){return t.baseState=r,Kc(t,Qt,typeof l=="function"?l:Ti)}function rE(t,n,r,l,c){if(Qu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Sm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),R=A.S;R!==null&&R(y,E),bm(t,n,E)}catch(N){Zc(t,n,N)}finally{A.T=f}}else try{f=r(c,l),bm(t,n,f)}catch(N){Zc(t,n,N)}}function bm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Rm(t,n,l)},function(l){return Zc(t,n,l)}):Rm(t,n,r)}function Rm(t,n,r){n.status="fulfilled",n.value=r,wm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sm(t,r)))}function Zc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,wm(n),n=n.next;while(n!==l)}t.action=null}function wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Cm(t,n){if(Pt){var r=Yt.formState;if(r!==null){t:{var l=Rt;if(Pt){if(Ue){e:{for(var c=Ue,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=zn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},r.queue=l,r=Fm.bind(null,Rt,l),l.dispatch=r,l=Xc(!1),f=nh.bind(null,Rt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=rE.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Vm(t){var n=fe();return Om(n,Qt,t)}function Om(t,n,r){n=Kc(t,n,Dm)[0],t=ju(Ti)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ll(n):n;var l=fe(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Xs(9,sE.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function sE(t,n){t.action=n}function Im(t){var n=fe(),r=Qt;if(r!==null)return Om(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Xs(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=ku(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Nm(){return fe().memoizedState}function Hu(t,n,r,l){var c=en();Rt.flags|=t,c.memoizedState=Xs(1|n,r,{destroy:void 0},l===void 0?null:l)}function Gu(t,n,r,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&qc(l,Qt.memoizedState.deps)?c.memoizedState=Xs(n,r,f,l):(Rt.flags|=t,c.memoizedState=Xs(1|n,r,f,l))}function Mm(t,n){Hu(8390656,8,t,n)}function $c(t,n){Gu(2048,8,t,n)}function xm(t,n){return Gu(4,2,t,n)}function Um(t,n){return Gu(4,4,t,n)}function Lm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zm(t,n,r){r=r!=null?r.concat([t]):null,Gu(4,4,Lm.bind(null,n,t),r)}function Jc(){}function Bm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&qc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Pm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&qc(n,l[1]))return l[0];if(l=t(),es){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l}function Wc(t,n,r){return r===void 0||(ir&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=qg(),Rt.lanes|=t,dr|=t,r)}function km(t,n,r,l){return un(r,n)?r:Gs.current!==null?(t=Wc(t,r,l),un(t,n)||(Oe=!0),t):(ir&42)===0?(Oe=!0,t.memoizedState=r):(t=qg(),Rt.lanes|=t,dr|=t,n)}function qm(t,n,r,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,nh(t,!1,n,r);try{var R=c(),N=A.S;if(N!==null&&N(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=eE(R,l);ul(t,n,H,fn(t))}else ul(t,n,l,fn(t))}catch(F){ul(t,n,{then:function(){},status:"rejected",reason:F},fn())}finally{it.p=f,A.T=y}}function aE(){}function th(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=jm(t).queue;qm(t,c,n,bt,r===null?aE:function(){return Hm(t),r(l)})}function jm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hm(t){var n=jm(t).next.queue;ul(t,n,{},fn())}function eh(){return je(Cl)}function Gm(){return fe().memoizedState}function Qm(){return fe().memoizedState}function lE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=lr(r);var l=ur(n,t,r);l!==null&&(Je(l,n,r),hl(l,n,r)),n={cache:Bc()},t.payload=n;return}n=n.return}}function uE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Km(n,r):(r=Ic(t,n,r,l),r!==null&&(Je(r,t,l),Ym(r,n,l)))}function Fm(t,n,r){var l=fn();ul(t,n,r,l)}function ul(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Km(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,un(E,y))return Cu(t,n,c,0),Yt===null&&Du(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return Je(r,t,l),Ym(r,n,l),!0}return!1}function nh(t,n,r,l){if(l={lane:2,revertLane:Qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(s(479))}else n=Ic(t,r,l,2),n!==null&&Je(n,t,2)}function Qu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Km(t,n){Ks=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ym(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gi(t,r)}}var Jn={readContext:je,use:qu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};Jn.useCacheRefresh=le,Jn.useMemoCache=le,Jn.useHostTransitionStatus=le,Jn.useFormState=le,Jn.useActionState=le,Jn.useOptimistic=le;var ns={readContext:je,use:qu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Mm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Hu(4194308,4,Lm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(es){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(es){Pn(!0);try{r(n)}finally{Pn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=uE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Xc(t);var n=t.queue,r=Fm.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Jc,useDeferredValue:function(t,n){var r=en();return Wc(r,t,n)},useTransition:function(){var t=Xc(!1);return t=qm.bind(null,Rt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=en();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Yt===null)throw Error(s(349));(Mt&60)!==0||ym(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Mm(vm.bind(null,l,f,t),[t]),l.flags|=2048,Xs(9,_m.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=en(),n=Yt.identifierPrefix;if(Pt){var r=vi,l=_i;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=nE++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=lE.bind(null,Rt)}};ns.useMemoCache=Fc,ns.useHostTransitionStatus=eh,ns.useFormState=Cm,ns.useActionState=Cm,ns.useOptimistic=function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var rr={readContext:je,use:qu,useCallback:Bm,useContext:je,useEffect:$c,useImperativeHandle:zm,useInsertionEffect:xm,useLayoutEffect:Um,useMemo:Pm,useReducer:ju,useRef:Nm,useState:function(){return ju(Ti)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=fe();return km(r,Qt.memoizedState,t,n)},useTransition:function(){var t=ju(Ti)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:pm,useId:Gm};rr.useCacheRefresh=Qm,rr.useMemoCache=Fc,rr.useHostTransitionStatus=eh,rr.useFormState=Vm,rr.useActionState=Vm,rr.useOptimistic=function(t,n){var r=fe();return Am(r,Qt,t,n)};var is={readContext:je,use:qu,useCallback:Bm,useContext:je,useEffect:$c,useImperativeHandle:zm,useInsertionEffect:xm,useLayoutEffect:Um,useMemo:Pm,useReducer:Yc,useRef:Nm,useState:function(){return Yc(Ti)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=fe();return Qt===null?Wc(r,t,n):km(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Yc(Ti)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:pm,useId:Gm};is.useCacheRefresh=Qm,is.useMemoCache=Fc,is.useHostTransitionStatus=eh,is.useFormState=Im,is.useActionState=Im,is.useOptimistic=function(t,n){var r=fe();return Qt!==null?Am(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function ih(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rh={isMounted:function(t){return(t=t._reactInternals)?ft(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=lr(l);c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&(Je(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=lr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&(Je(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=lr(r);l.tag=2,n!=null&&(l.callback=n),n=ur(t,l,r),n!==null&&(Je(n,t,r),hl(n,t,r))}};function Xm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Xa(r,l)||!Xa(c,f):!0}function Zm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&rh.enqueueReplaceState(n,n.state,null)}function rs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $m(t){Fu(t)}function Jm(t){console.error(t)}function Wm(t){Fu(t)}function Ku(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function tg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sh(t,n,r){return r=lr(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(t,n)},r}function eg(t){return t=lr(t),t.tag=3,t}function ng(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){tg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){tg(n,r,l),typeof c!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function oE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&cl(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return $n===null?kh():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),jh(t,l,c)),!1;case 22:return r.flags|=65536,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),jh(t,l,c)),!1}throw Error(s(435,r.tag))}return jh(t,l,c),kh(),!1}if(Pt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(s(422),{cause:l}),Wa(An(t,r)))):(l!==xc&&(n=Error(s(423),{cause:l}),Wa(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=sh(t.stateNode,l,c),Eh(t,c),re!==4&&(re=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,r),vl===null?vl=[f]:vl.push(f),re!==4&&(re=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=sh(r.stateNode,l,t),Eh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=eg(c),ng(c,t,r,l),Eh(r,c),!1}r=r.return}while(r!==null);return!1}var ig=Error(s(461)),Oe=!1;function Le(t,n,r,l){n.child=t===null?um(n,null,r,l):Wr(n,t.child,r,l)}function rg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return as(n),l=jc(t,n,r,y,f,c),E=Hc(),t!==null&&!Oe?(Gc(t,n,c),Ai(t,n,c)):(Pt&&E&&Nc(n),n.flags|=1,Le(t,n,l,c),n.child)}function sg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ch(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ag(t,n,f,l,c)):(t=Ju(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xa,r(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=fr(f,l),t.ref=n.ref,t.return=n,n.child=t}function ag(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Xa(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,mh(t,c))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return ah(t,n,r,l,c)}function lg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ol(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ug(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,y!==null?y.cachePool:null),y!==null?om(n,y):Lc(),cm(n);else return n.lanes=n.childLanes=536870912,ug(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(zu(n,y.cachePool),om(n,y),nr(),n.memoizedState=null):(t!==null&&zu(n,null),Lc(),nr());return Le(t,n,c,r),n.child}function ug(t,n,r,l){var c=kc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zu(n,null),Lc(),cm(n),t!==null&&cl(t,n,l,!0),null}function ol(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ah(t,n,r,l,c){return as(n),r=jc(t,n,r,l,void 0,c),l=Hc(),t!==null&&!Oe?(Gc(t,n,c),Ai(t,n,c)):(Pt&&l&&Nc(n),n.flags|=1,Le(t,n,r,c),n.child)}function og(t,n,r,l,c,f){return as(n),n.updateQueue=null,r=gm(n,l,r,c),mm(t),l=Hc(),t!==null&&!Oe?(Gc(t,n,f),Ai(t,n,f)):(Pt&&l&&Nc(n),n.flags|=1,Le(t,n,r,f),n.child)}function cg(t,n,r,l,c){if(as(n),n.stateNode===null){var f=ks,y=r.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_h(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?je(y):ks,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ih(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&rh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=rs(r,E);f.props=R;var N=f.context,H=r.contextType;y=ks,typeof H=="object"&&H!==null&&(y=je(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&Zm(n,f,l,y),ar=!1;var P=n.memoizedState;f.state=P,dl(n,l,f,c),fl(),N=n.memoizedState,E||P!==N||ar?(typeof F=="function"&&(ih(n,r,F,l),N=n.memoizedState),(R=ar||Xm(n,r,R,l,P,N,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,vh(t,n),y=n.memoizedProps,H=rs(r,y),f.props=H,F=n.pendingProps,P=f.context,N=r.contextType,R=ks,typeof N=="object"&&N!==null&&(R=je(N)),E=r.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||P!==R)&&Zm(n,f,l,R),ar=!1,P=n.memoizedState,f.state=P,dl(n,l,f,c),fl();var q=n.memoizedState;y!==F||P!==q||ar||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(ih(n,r,E,l),q=n.memoizedState),(H=ar||Xm(n,r,H,l,P,q,R)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ol(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wr(n,t.child,null,c),n.child=Wr(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function hg(t,n,r,l){return Ja(),n.flags|=256,Le(t,n,r,l),n.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(t){return{baseLanes:t,cachePool:dm()}}function oh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function fg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?er(n):nr(),Pt){var E=Ue,R;if(R=E){t:{for(R=E,E=Zn;R.nodeType!==8;){if(!E){E=null;break t}if(R=zn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:_i,overflow:vi}:null,retryLane:536870912},R=Cn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,$e=n,Ue=null,R=!0):R=!1}R||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ei(n)}return E=l.children,l=l.fallback,c?(nr(),c=n.mode,E=hh({mode:"hidden",children:E},c),l=us(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=uh(r),c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(er(n),ch(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=fh(t,n,r)):n.memoizedState!==null?(nr(),n.child=t.child,n.flags|=128,n=null):(nr(),c=l.fallback,E=n.mode,l=hh({mode:"visible",children:l.children},E),c=us(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Wr(n,t.child,null,r),l=n.child,l.memoizedState=uh(r),l.childLanes=oh(t,y,r),n.memoizedState=lh,n=c);else if(er(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,l=Error(s(419)),l.stack="",l.digest=y,Wa({value:l,source:null,stack:null}),n=fh(t,n,r)}else if(Oe||cl(t,n,r,!1),y=(r&t.childLanes)!==0,Oe||y){if(y=Yt,y!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,tr(t,l),Je(y,t,l),ig}E.data==="$?"||kh(),n=fh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=bE.bind(null,t),E._reactRetry=n,n=null):(t=R.treeContext,Ue=zn(E.nextSibling),$e=n,Pt=!0,Un=null,Zn=!1,t!==null&&(Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Zr,_i=t.id,vi=t.overflow,Zr=n),n=ch(n,l.children),n.flags|=4096);return n}return c?(nr(),c=l.fallback,E=n.mode,R=t.child,N=R.sibling,l=fr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,N!==null?c=fr(N,c):(c=us(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=uh(r):(R=E.cachePool,R!==null?(N=Te._currentValue,R=R.parent!==N?{parent:N,pool:N}:R):R=dm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(er(n),r=t.child,t=r.sibling,r=fr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function ch(t,n){return n=hh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hh(t,n){return Bg(t,n,0,null)}function fh(t,n,r){return Wr(n,t.child,null,r),t=ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ph(t.return,n,r)}function dh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function mg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,r,n);else if(t.tag===19)dg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Lu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),dh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Lu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}dh(n,!0,r,null,f);break;case"together":dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),dr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(cl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=fr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=fr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function cE(t,n,r){switch(n.tag){case 3:Bi(n,n.stateNode.containerInfo),sr(n,Te,t.memoizedState.cache),Ja();break;case 27:case 5:Ca(n);break;case 4:Bi(n,n.stateNode.containerInfo);break;case 10:sr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fg(t,n,r):(er(n),t=Ai(t,n,r),t!==null?t.sibling:null);er(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(cl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return mg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Gt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,lg(t,n,r);case 24:sr(n,Te,t.memoizedState.cache)}return Ai(t,n,r)}function gg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!mh(t,r)&&(n.flags&128)===0)return Oe=!1,cE(t,n,r);Oe=(t.flags&131072)!==0}else Oe=!1,Pt&&(n.flags&1048576)!==0&&Wd(n,Iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ch(l)?(t=rs(l,t),n.tag=1,n=cg(null,n,l,t,r)):(n.tag=0,n=ah(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=rg(null,n,l,t,r);break t}else if(c===vt){n.tag=14,n=sg(null,n,l,t,r);break t}}throw n=b(l)||l,Error(s(306,n,""))}}return n;case 0:return ah(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=rs(l,n.pendingProps),cg(t,n,l,c,r);case 3:t:{if(Bi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,vh(t,n),dl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,sr(n,Te,f),f!==c.cache&&yh(n,[Te],r,!0),fl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=hg(t,n,f,r);break t}else if(f!==l){l=An(Error(s(424)),n),Wa(l),n=hg(t,n,f,r);break t}else for(Ue=zn(n.stateNode.containerInfo.firstChild),$e=n,Pt=!0,Un=null,Zn=!0,r=um(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ja(),f===l){n=Ai(t,n,r);break t}Le(t,n,f,r)}n=n.child}return n;case 26:return ol(t,n),t===null?(r=_p(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(mn.current).createElement(r),l[De]=n,l[ye]=t,ze(l,r,t),$t(l),n.stateNode=l):n.memoizedState=_p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ca(n),t===null&&Pt&&(l=n.stateNode=gp(n.type,n.pendingProps,mn.current),$e=n,Zn=!0,Ue=zn(l.firstChild)),l=n.pendingProps.children,t!==null||Pt?Le(t,n,l,r):n.child=Wr(n,null,l,r),ol(t,n),n.child;case 5:return t===null&&Pt&&((c=l=Ue)&&(l=kE(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,$e=n,Ue=zn(l.firstChild),Zn=!1,c=!0):c=!1),c||Jr(n)),Ca(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,tf(c,f)?l=null:y!==null&&tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=jc(t,n,iE,null,null,r),Cl._currentValue=c),ol(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=Ue)&&(r=qE(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,$e=n,Ue=null,t=!0):t=!1),t||Jr(n)),null;case 13:return fg(t,n,r);case 4:return Bi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wr(n,null,l,r):Le(t,n,l,r),n.child;case 11:return rg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,sr(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,as(n),c=je(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return sg(t,n,n.type,n.pendingProps,r);case 15:return ag(t,n,n.type,n.pendingProps,r);case 19:return mg(t,n,r);case 22:return lg(t,n,r);case 24:return as(n),l=je(Te),t===null?(c=kc(),c===null&&(c=Yt,f=Bc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},_h(n),sr(n,Te,c)):((t.lanes&r)!==0&&(vh(t,n),dl(n,null,null,r),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sr(n,Te,l)):(l=f.cache,sr(n,Te,l),l!==c.cache&&yh(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var gh=zt(null),ss=null,Si=null;function sr(t,n,r){Gt(gh,n._currentValue),n._currentValue=r}function bi(t){t._currentValue=gh.current,ee(gh)}function ph(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function yh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ph(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ph(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;un(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===zi.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}c=c.return}t!==null&&yh(n,t,r,l),n.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){ss=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return pg(ss,t)}function Xu(t,n){return ss===null&&as(t),pg(t,n)}function pg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(t===null)throw Error(s(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return r}var ar=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Vu(t),$d(t,null,r),n}return Cu(t,l,n,r),Vu(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gi(t,r)}}function Eh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Th=!1;function fl(){if(Th){var t=Fs;if(t!==null)throw t}}function dl(t,n,r,l){Th=!1;var c=t.updateQueue;ar=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,N=R.next;R.next=null,y===null?f=N:y.next=N,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=N:E.next=N,H.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;y=0,H=N=R=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Mt&P)===P:(l&P)===P){P!==0&&P===Qs&&(Th=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,Et=E;P=n;var se=r;switch(Et.tag){case 1:if(at=Et.payload,typeof at=="function"){F=at.call(se,F,P);break t}F=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Et.payload,P=typeof at=="function"?at.call(se,F,P):at,P==null)break t;F=D({},F,P);break t;case 2:ar=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(N=H=q,R=F):H=H.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(R=F),c.baseState=R,c.firstBaseUpdate=N,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),dr|=y,t.lanes=y,t.memoizedState=F}}function yg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function _g(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)yg(r[t],n)}function ml(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function or(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r;try{E()}catch(N){Kt(c,R,N)}}}l=l.next}while(l!==f)}}catch(N){Kt(n,n.return,N)}}function vg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{_g(n,r)}catch(l){Kt(t,t.return,l)}}}function Eg(t,n,r){r.props=rs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ls(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Kt(t,n,f)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Tg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Ag(t,n,r){try{var l=t.stateNode;UE(l,t.type,r,n),l[ye]=n}catch(c){Kt(t,t.return,c)}}function Sg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ah(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Sh(t,n,r),t=t.sibling;t!==null;)Sh(t,n,r),t=t.sibling}function Zu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Zu(t,n,r),t=t.sibling;t!==null;)Zu(t,n,r),t=t.sibling}var Ri=!1,ie=!1,bh=!1,bg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,Rg=!1;function hE(t,n){if(t=t.containerInfo,Jh=yo,t=jd(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,N=0,H=0,F=t,P=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(R=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)P=F,F=q;for(;;){if(F===t)break e;if(P===r&&++N===c&&(E=y),P===f&&++H===l&&(R=y),(q=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wh={focusedElem:t,selectionRange:r},yo=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var at=rs(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Et){Kt(r,r.return,Et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return at=Rg,Rg=!1,at}function wg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Di(t,r),l&4&&ml(5,r);break;case 1:if(Di(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Kt(r,r.return,E)}else{var c=rs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Kt(r,r.return,E)}}l&64&&vg(r),l&512&&ls(r,r.return);break;case 3:if(Di(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{_g(l,t)}catch(E){Kt(r,r.return,E)}}break;case 26:Di(t,r),l&512&&ls(r,r.return);break;case 27:case 5:Di(t,r),n===null&&l&4&&Tg(r),l&512&&ls(r,r.return);break;case 12:Di(t,r);break;case 13:Di(t,r),l&4&&Vg(t,r);break;case 22:if(c=r.memoizedState!==null||Ri,!c){n=n!==null&&n.memoizedState!==null||ie;var f=Ri,y=ie;Ri=c,(ie=n)&&!y?cr(t,r,(r.subtreeFlags&8772)!==0):Di(t,r),Ri=f,ie=y}l&512&&(r.memoizedProps.mode==="manual"?ls(r,r.return):on(r,r.return));break;default:Di(t,r)}}function Dg(t){var n=t.alternate;n!==null&&(t.alternate=null,Dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,cn=!1;function wi(t,n,r){for(r=r.child;r!==null;)Cg(t,n,r),r=r.sibling}function Cg(t,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 26:ie||on(r,n),wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ie||on(r,n);var l=de,c=cn;for(de=r.stateNode,wi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);zr(r),de=l,cn=c;break;case 5:ie||on(r,n);case 6:c=de;var f=cn;if(de=null,wi(t,n,r),de=c,cn=f,de!==null)if(cn)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Kt(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Kt(r,n,y)}break;case 18:de!==null&&(cn?(n=de,r=r.stateNode,n.nodeType===8?nf(n.parentNode,r):n.nodeType===1&&nf(n,r),Nl(n)):nf(de,r.stateNode));break;case 4:l=de,c=cn,de=r.stateNode.containerInfo,cn=!0,wi(t,n,r),de=l,cn=c;break;case 0:case 11:case 14:case 15:ie||or(2,r,n),ie||or(4,r,n),wi(t,n,r);break;case 1:ie||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Eg(r,n,l)),wi(t,n,r);break;case 21:wi(t,n,r);break;case 22:ie||on(r,n),ie=(l=ie)||r.memoizedState!==null,wi(t,n,r),ie=l;break;default:wi(t,n,r)}}function Vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Kt(n,n.return,r)}}function fE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new bg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new bg),n;default:throw Error(s(435,t.tag))}}function Rh(t,n){var r=fE(t);n.forEach(function(l){var c=RE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,cn=!1;break t;case 3:de=E.stateNode.containerInfo,cn=!0;break t;case 4:de=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(de===null)throw Error(s(160));Cg(f,y,c),de=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Og(n,t),n=n.sibling}var Ln=null;function Og(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Dn(t),l&4&&(or(3,t,t.return),ml(3,t),or(5,t,t.return));break;case 1:wn(n,t),Dn(t),l&512&&(ie||r===null||on(r,r.return)),l&64&&Ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ln;if(wn(n,t),Dn(t),l&512&&(ie||r===null||on(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[De]=t,$t(f),l=f;break t;case"link":var y=Tp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Tp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,$t(f),l=f}t.stateNode=l}else Ap(c,t.type,t.stateNode);else t.stateNode=Ep(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Ap(c,t.type,t.stateNode):Ep(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ag(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var R=c.firstChild;R;){var N=R.nextSibling,H=R.nodeName;R[Fi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=N}for(var F=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);ze(c,F,f),c[De]=t,c[ye]=f}catch(at){Kt(t,t.return,at)}}case 5:if(wn(n,t),Dn(t),l&512&&(ie||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(at){Kt(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ag(t,c,r!==null?r.memoizedProps:c)),l&1024&&(bh=!0);break;case 6:if(wn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(at){Kt(t,t.return,at)}}break;case 3:if(mo=null,c=Ln,Ln=ho(n.containerInfo),wn(n,t),Ln=c,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(at){Kt(t,t.return,at)}bh&&(bh=!1,Ig(t));break;case 4:l=Ln,Ln=ho(t.stateNode.containerInfo),wn(n,t),Dn(t),Ln=l;break;case 12:wn(n,t),Dn(t);break;case 13:wn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xh=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 22:if(l&512&&(ie||r===null||on(r,r.return)),R=t.memoizedState!==null,N=r!==null&&r.memoizedState!==null,H=Ri,F=ie,Ri=H||R,ie=F||N,wn(n,t),ie=F,Ri=H,Dn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Ri||ie,r===null||N||n||Zs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){N=r=n;try{if(c=N.stateNode,R)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){Kt(N,N.return,at)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=R?"":N.memoizedProps}catch(at){Kt(N,N.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Rh(t,r))));break;case 19:wn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 21:break;default:wn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Sg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Ah(t);Zu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(yn(y,""),l.flags&=-33);var E=Ah(t);Zu(t,E,y);break;case 3:case 4:var R=l.stateNode.containerInfo,N=Ah(t);Sh(t,N,R);break;default:throw Error(s(161))}}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ig(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Di(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wg(t,n.alternate,n),n=n.sibling}function Zs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),Zs(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Eg(n,n.return,r),Zs(n);break;case 26:case 27:case 5:on(n,n.return),Zs(n);break;case 22:on(n,n.return),n.memoizedState===null&&Zs(n);break;default:Zs(n)}t=t.sibling}}function cr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cr(c,f,r),ml(4,f);break;case 1:if(cr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Kt(l,l.return,N)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)yg(R[c],E)}catch(N){Kt(l,l.return,N)}}r&&y&64&&vg(f),ls(f,f.return);break;case 26:case 27:case 5:cr(c,f,r),r&&l===null&&y&4&&Tg(f),ls(f,f.return);break;case 12:cr(c,f,r);break;case 13:cr(c,f,r),r&&y&4&&Vg(c,f);break;case 22:f.memoizedState===null&&cr(c,f,r),ls(f,f.return);break;default:cr(c,f,r)}n=n.sibling}}function wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function Dh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function hr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ng(t,n,r,l),n=n.sibling}function Ng(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hr(t,n,r,l),c&2048&&ml(9,n);break;case 3:hr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){hr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else hr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?hr(t,n,r,l):gl(t,n):f._visibility&4?hr(t,n,r,l):(f._visibility|=4,$s(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&wh(n.alternate,n);break;case 24:hr(t,n,r,l),c&2048&&Dh(n.alternate,n);break;default:hr(t,n,r,l)}}function $s(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,N=y.flags;switch(y.tag){case 0:case 11:case 15:$s(f,y,E,R,c),ml(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?$s(f,y,E,R,c):gl(f,y):(H._visibility|=4,$s(f,y,E,R,c)),c&&N&2048&&wh(y.alternate,y);break;case 24:$s(f,y,E,R,c),c&&N&2048&&Dh(y.alternate,y);break;default:$s(f,y,E,R,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:gl(r,l),c&2048&&wh(l.alternate,l);break;case 24:gl(r,l),c&2048&&Dh(l.alternate,l);break;default:gl(r,l)}n=n.sibling}}var pl=8192;function Js(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Mg(t),t=t.sibling}function Mg(t){switch(t.tag){case 26:Js(t),t.flags&pl&&t.memoizedState!==null&&t0(Ln,t.memoizedState,t.memoizedProps);break;case 5:Js(t);break;case 3:case 4:var n=Ln;Ln=ho(t.stateNode.containerInfo),Js(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=pl,pl=16777216,Js(t),pl=n):Js(t));break;default:Js(t)}}function xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Lg(l,t)}xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ug(t),t=t.sibling}function Ug(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&or(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,$u(t)):yl(t);break;default:yl(t)}}function $u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Lg(l,t)}xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),$u(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,$u(n));break;default:$u(n)}t=t.sibling}}function Lg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Dg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function dE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,r,l){return new dE(t,n,r,l)}function Ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fr(t,n){var r=t.alternate;return r===null?(r=Cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ju(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Ch(t)&&(y=1);else if(typeof t=="string")y=JE(t,r,Ke.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return us(r.children,c,f,n);case v:y=8,c|=24;break;case S:return t=Cn(12,r,n,c|2),t.elementType=S,t.lanes=f,t;case tt:return t=Cn(13,r,n,c),t.elementType=tt,t.lanes=f,t;case Z:return t=Cn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case et:return Bg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:case j:y=10;break t;case z:y=9;break t;case X:y=11;break t;case vt:y=14;break t;case gt:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Cn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function us(t,n,r,l){return t=Cn(7,t,l,n),t.lanes=r,t}function Bg(t,n,r,l){t=Cn(22,t,l,n),t.elementType=et,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var y=tr(f,2);y!==null&&(c._pendingVisibility|=2,Je(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var y=tr(f,2);y!==null&&(c._pendingVisibility&=-3,Je(y,f,2))}}};return t.stateNode=c,t}function Vh(t,n,r){return t=Cn(6,t,null,n),t.lanes=r,t}function Oh(t,n,r){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ci(t){t.flags|=4}function Pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sp(n)){if(n=Rn.current,n!==null&&((Mt&4194176)===Mt?$n!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==$n))throw el=Uc,nm;t.flags|=8192}}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,ta|=n)}function _l(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function mE(t,n,r){var l=n.pendingProps;switch(Mc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Te),li(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($a(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Un!==null&&(Bh(Un),Un=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(Jt(n),Pg(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),Jt(n),Pg(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),Jt(n),n.flags&=-16777217),null;case 27:vs(n),r=mn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}t=Ke.current,$a(n)?tm(n):(t=gp(c,l,r),n.stateNode=t,Ci(n))}return Jt(n),null;case 5:if(vs(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(t=Ke.current,$a(n))tm(n);else{switch(c=co(mn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mn.current,$a(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||op(t.nodeValue,r)),t||Jr(n)}else t=co(t).createTextNode(l),t[De]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$a(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else Ja(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Un!==null&&(Bh(Un),Un=null),c=!0;if(!c)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),Jt(n),null;case 4:return li(),t===null&&Xh(n.stateNode.containerInfo),Jt(n),null;case 10:return bi(n.type),Jt(n),null;case 19:if(ee(Ee),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Lu(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zg(r,t),r=r.sibling;return Gt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&We()>to&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=Lu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return Jt(n),null}else 2*We()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=We(),n.sibling=null,t=Ee.current,Gt(Ee,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return Ei(n),zc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee(ts),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bi(Te),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function gE(t,n){switch(Mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Te),li(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 13:if(Ei(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ja()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(Ee),null;case 4:return li(),null;case 10:return bi(n.type),null;case 22:case 23:return Ei(n),zc(),t!==null&&ee(ts),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Te),null;case 25:return null;default:return null}}function kg(t,n){switch(Mc(n),n.tag){case 3:bi(Te),li();break;case 26:case 27:case 5:vs(n);break;case 4:li();break;case 13:Ei(n);break;case 19:ee(Ee);break;case 10:bi(n.type);break;case 22:case 23:Ei(n),zc(),t!==null&&ee(ts);break;case 24:bi(Te)}}var pE={getCacheForType:function(t){var n=je(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},yE=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Yt=null,Dt=null,Mt=0,Xt=0,hn=null,Vi=!1,Ws=!1,Ih=!1,Oi=0,re=0,dr=0,os=0,Nh=0,Vn=0,ta=0,vl=null,Wn=null,Mh=!1,xh=0,to=1/0,eo=null,mr=null,no=!1,cs=null,El=0,Uh=0,Lh=null,Tl=0,zh=null;function fn(){if((Wt&2)!==0&&Mt!==0)return Mt&-Mt;if(A.T!==null){var t=Qs;return t!==0?t:Qh()}return uu()}function qg(){Vn===0&&(Vn=(Mt&536870912)===0||Pt?Ma():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Vn}function Je(t,n,r){(t===Yt&&Xt===2||t.cancelPendingCommit!==null)&&(ea(t,0),Ii(t,Mt,Vn,!1)),ae(t,r),((Wt&2)===0||t!==Yt)&&(t===Yt&&((Wt&2)===0&&(os|=r),re===4&&Ii(t,Mt,Vn,!1)),ti(t))}function jg(t,n,r){if((Wt&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||qi(t,n),c=l?EE(t,n):qh(t,n,!0),f=l;do{if(c===0){Ws&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Vi);else{if(r=t.current.alternate,f&&!_E(r)){c=qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=vl;var R=E.current.memoizedState.isDehydrated;if(R&&(ea(E,y).flags|=256),y=qh(E,y,!1),y!==2){if(Ih&&!R){E.errorRecoveryDisabledLanes|=f,os|=f,c=4;break t}f=Wn,Wn=c,f!==null&&Bh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ea(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ii(l,n,Vn,!Vi);break t}break;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=xh+300-We(),10<f)){if(Ii(l,n,Vn,!Vi),gn(l,0)!==0)break t;l.timeoutHandle=fp(Hg.bind(null,l,r,Wn,eo,Mh,n,Vn,os,ta,Vi,2,-0,0),f);break t}Hg(l,r,Wn,eo,Mh,n,Vn,os,ta,Vi,0,-0,0)}}break}while(!0);ti(t)}function Bh(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function Hg(t,n,r,l,c,f,y,E,R,N,H,F,P){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:WE},Mg(n),n=e0(),n!==null)){t.cancelPendingCommit=n(Zg.bind(null,t,r,l,c,y,E,R,1,F,P)),Ii(t,f,y,!N);return}Zg(t,r,l,c,y,E,R,H,F,P)}function _E(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!un(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,r,l){n&=~Nh,n&=~os,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Hi(t,r,n)}function io(){return(Wt&6)===0?(Al(0),!1):!0}function Ph(){if(Dt!==null){if(Xt===0)var t=Dt.return;else t=Dt,Si=ss=null,Qc(t),Hs=null,nl=0,t=Dt;for(;t!==null;)kg(t.alternate,t),t=t.return;Dt=null}}function ea(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,zE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ph(),Yt=t,Dt=r=fr(t.current,null),Mt=n,Xt=0,hn=null,Vi=!1,Ws=qi(t,n),Ih=!1,ta=Vn=Nh=os=dr=re=0,Wn=vl=null,Mh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Du(),r}function Gg(t,n){Rt=null,A.H=Jn,n===tl?(n=sm(),Xt=3):n===nm?(n=sm(),Xt=4):Xt=n===ig?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Dt===null&&(re=1,Ku(t,An(n,t.current)))}function Qg(){var t=A.H;return A.H=Jn,t===null?Jn:t}function Fg(){var t=A.A;return A.A=pE,t}function kh(){re=4,Vi||(Mt&4194176)!==Mt&&Rn.current!==null||(Ws=!0),(dr&134217727)===0&&(os&134217727)===0||Yt===null||Ii(Yt,Mt,Vn,!1)}function qh(t,n,r){var l=Wt;Wt|=2;var c=Qg(),f=Fg();(Yt!==t||Mt!==n)&&(eo=null,ea(t,n)),n=!1;var y=re;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,R=hn;switch(Xt){case 8:Ph(),y=6;break t;case 3:case 2:case 6:Rn.current===null&&(n=!0);var N=Xt;if(Xt=0,hn=null,na(t,E,R,N),r&&Ws){y=0;break t}break;default:N=Xt,Xt=0,hn=null,na(t,E,R,N)}}vE(),y=re;break}catch(H){Gg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Si=ss=null,Wt=l,A.H=c,A.A=f,Dt===null&&(Yt=null,Mt=0,Du()),y}function vE(){for(;Dt!==null;)Kg(Dt)}function EE(t,n){var r=Wt;Wt|=2;var l=Qg(),c=Fg();Yt!==t||Mt!==n?(eo=null,to=We()+500,ea(t,n)):Ws=qi(t,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var f=hn;e:switch(Xt){case 1:Xt=0,hn=null,na(t,n,f,1);break;case 2:if(im(f)){Xt=0,hn=null,Yg(n);break}n=function(){Xt===2&&Yt===t&&(Xt=7),ti(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:im(f)?(Xt=0,hn=null,Yg(n)):(Xt=0,hn=null,na(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Sp(y)){Xt=0,hn=null;var R=E.sibling;if(R!==null)Dt=R;else{var N=E.return;N!==null?(Dt=N,ro(N)):Dt=null}break e}}Xt=0,hn=null,na(t,n,f,5);break;case 6:Xt=0,hn=null,na(t,n,f,6);break;case 8:Ph(),re=6;break t;default:throw Error(s(462))}}TE();break}catch(H){Gg(t,H)}while(!0);return Si=ss=null,A.H=l,A.A=c,Wt=r,Dt!==null?0:(Yt=null,Mt=0,Du(),re)}function TE(){for(;Dt!==null&&!gc();)Kg(Dt)}function Kg(t){var n=gg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?ro(t):Dt=n}function Yg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=og(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=og(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Qc(n);default:kg(r,n),n=Dt=zg(n,Oi),n=gg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?ro(t):Dt=n}function na(t,n,r,l){Si=ss=null,Qc(n),Hs=null,nl=0;var c=n.return;try{if(oE(t,c,n,r,Mt)){re=1,Ku(t,An(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;re=1,Ku(t,An(r,t.current)),Dt=null;return}n.flags&32768?(Pt||l===1?t=!0:Ws||(Mt&536870912)!==0?t=!1:(Vi=t=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xg(n,t)):ro(n)}function ro(t){var n=t;do{if((n.flags&32768)!==0){Xg(n,Vi);return}t=n.return;var r=mE(n.alternate,n,Oi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);re===0&&(re=5)}function Xg(t,n){do{var r=gE(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);re=6,Dt=null}function Zg(t,n,r,l,c,f,y,E,R,N){var H=A.T,F=it.p;try{it.p=2,A.T=null,AE(t,n,r,l,F,c,f,y,E,R,N)}finally{A.T=H,it.p=F}}function AE(t,n,r,l,c,f,y,E){do ia();while(cs!==null);if((Wt&6)!==0)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=R.lanes|R.childLanes;if(N|=Oc,au(t,l,N,f,y,E),t===Yt&&(Dt=Yt=null,Mt=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||no||(no=!0,Uh=N,Lh=r,wE(ui,function(){return ia(),null})),r=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||r?(r=A.T,A.T=null,f=it.p,it.p=2,y=Wt,Wt|=4,hE(t,R),Og(R,t),Fv(Wh,t.containerInfo),yo=!!Jh,Wh=Jh=null,t.current=R,wg(t,R.alternate,R),Va(),Wt=y,it.p=f,A.T=r):t.current=R,no?(no=!1,cs=t,El=l):$g(t,N),N=t.pendingLanes,N===0&&(mr=null),Ia(R.stateNode),ti(t),n!==null)for(c=t.onRecoverableError,R=0;R<n.length;R++)N=n[R],c(N.value,{componentStack:N.stack});return(El&3)!==0&&ia(),N=t.pendingLanes,(l&4194218)!==0&&(N&42)!==0?t===zh?Tl++:(Tl=0,zh=t):Tl=0,Al(0),null}function $g(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function ia(){if(cs!==null){var t=cs,n=Uh;Uh=0;var r=lu(El),l=A.T,c=it.p;try{if(it.p=32>r?32:r,A.T=null,cs===null)var f=!1;else{r=Lh,Lh=null;var y=cs,E=El;if(cs=null,El=0,(Wt&6)!==0)throw Error(s(331));var R=Wt;if(Wt|=4,Ug(y.current),Ng(y,y.current,E,r),Wt=R,Al(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Pi,y)}catch{}f=!0}return f}finally{it.p=c,A.T=l,$g(t,n)}}return!1}function Jg(t,n,r){n=An(r,n),n=sh(t.stateNode,n,2),t=ur(t,n,2),t!==null&&(ae(t,2),ti(t))}function Kt(t,n,r){if(t.tag===3)Jg(t,t,r);else for(;n!==null;){if(n.tag===3){Jg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){t=An(r,t),r=eg(2),l=ur(n,r,2),l!==null&&(ng(r,l,n,t),ae(l,2),ti(l));break}}n=n.return}}function jh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new yE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=SE.bind(null,t,n,r),n.then(t,t))}function SE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(Mt&r)===r&&(re===4||re===3&&(Mt&62914560)===Mt&&300>We()-xh?(Wt&2)===0&&ea(t,0):Nh|=r,ta===Mt&&(ta=0)),ti(t)}function Wg(t,n){n===0&&(n=ji()),t=tr(t,n),t!==null&&(ae(t,n),ti(t))}function bE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wg(t,r)}function RE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wg(t,r)}function wE(t,n){return xr(t,n)}var so=null,ra=null,Hh=!1,ao=!1,Gh=!1,hs=0;function ti(t){t!==ra&&t.next===null&&(ra===null?so=ra=t:ra=ra.next=t),ao=!0,Hh||(Hh=!0,CE(DE))}function Al(t,n){if(!Gh&&ao){Gh=!0;do for(var r=!1,l=so;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,np(l,f))}else f=Mt,f=gn(l,l===Yt?f:0),(f&3)===0||qi(l,f)||(r=!0,np(l,f));l=l.next}while(r);Gh=!1}}function DE(){ao=Hh=!1;var t=0;hs!==0&&(LE()&&(t=hs),hs=0);for(var n=We(),r=null,l=so;l!==null;){var c=l.next,f=tp(l,n);f===0?(l.next=null,r===null?so=c:r.next=c,c===null&&(ra=r)):(r=l,(t!==0||(f&3)!==0)&&(ao=!0)),l=c}Al(t)}function tp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=As(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Yt,r=Mt,r=gn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ts(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||qi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ts(l),lu(r)){case 2:case 8:r=we;break;case 32:r=ui;break;case 268435456:r=Oa;break;default:r=ui}return l=ep.bind(null,t),r=xr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ts(l),t.callbackPriority=2,t.callbackNode=null,2}function ep(t,n){var r=t.callbackNode;if(ia()&&t.callbackNode!==r)return null;var l=Mt;return l=gn(t,t===Yt?l:0),l===0?null:(jg(t,l,n),tp(t,We()),t.callbackNode!=null&&t.callbackNode===r?ep.bind(null,t):null)}function np(t,n){if(ia())return null;jg(t,n,!0)}function CE(t){BE(function(){(Wt&6)!==0?xr(pe,t):t()})}function Qh(){return hs===0&&(hs=Ma()),hs}function ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function rp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function VE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=ip((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?ip(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Vs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var R=y?rp(c,y):new FormData(c);th(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?rp(c,y):new FormData(c),th(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Fh=0;Fh<Zd.length;Fh++){var Kh=Zd[Fh],OE=Kh.toLowerCase(),IE=Kh[0].toUpperCase()+Kh.slice(1);xn(OE,"on"+IE)}xn(Qd,"onAnimationEnd"),xn(Fd,"onAnimationIteration"),xn(Kd,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Yv,"onTransitionRun"),xn(Xv,"onTransitionStart"),xn(Zv,"onTransitionCancel"),xn(Yd,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function sp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,N=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,N=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=R}}}}function Vt(t,n){var r=n[Lr];r===void 0&&(r=n[Lr]=new Set);var l=t+"__bubble";r.has(l)||(ap(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),ap(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Xh(t){if(!t[lo]){t[lo]=!0,Ua.forEach(function(r){r!=="selectionchange"&&(NE.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Yh("selectionchange",!1,n))}}function ap(t,n,r,l){switch(Vp(n)){case 2:var c=r0;break;case 8:c=s0;break;default:c=of}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Zh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===c||R.nodeType===8&&R.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Mn(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}fu(function(){var N=f,H=Cs(r),F=[];t:{var P=Xd.get(t);if(P!==void 0){var q=Vs,at=t;switch(t){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":q=Us;break;case"focusin":at="focus",q=Ns;break;case"focusout":at="blur",q=Ns;break;case"beforeblur":case"afterblur":q=Ns;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Eu;break;case Qd:case Fd:case Kd:q=Ms;break;case Yd:q=Au;break;case"scroll":case"scrollend":q=du;break;case"wheel":q=Ls;break;case"copy":case"cut":case"paste":q=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ka;break;case"toggle":case"beforetoggle":q=bu}var Et=(n&4)!==0,se=!Et&&(t==="scroll"||t==="scrollend"),x=Et?P!==null?P+"Capture":null:P;Et=[];for(var I=N,B;I!==null;){var G=I;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||x===null||(G=qr(I,x),G!=null&&Et.push(bl(I,G,B))),se)break;I=I.return}0<Et.length&&(P=new q(P,at,null,r,H),F.push({event:P,listeners:Et}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==_n&&(at=r.relatedTarget||r.fromElement)&&(Mn(at)||at[oi]))break t;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(at=r.relatedTarget||r.toElement,q=N,at=at?Mn(at):null,at!==null&&(se=ft(at),Et=at.tag,at!==se||Et!==5&&Et!==27&&Et!==6)&&(at=null)):(q=null,at=N),q!==at)){if(Et=En,G="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(Et=Ka,G="onPointerLeave",x="onPointerEnter",I="pointer"),se=q==null?P:Ki(q),B=at==null?P:Ki(at),P=new Et(G,I+"leave",q,r,H),P.target=se,P.relatedTarget=B,G=null,Mn(H)===N&&(Et=new Et(x,I+"enter",at,r,H),Et.target=B,Et.relatedTarget=se,G=Et),se=G,q&&at)e:{for(Et=q,x=at,I=0,B=Et;B;B=sa(B))I++;for(B=0,G=x;G;G=sa(G))B++;for(;0<I-B;)Et=sa(Et),I--;for(;0<B-I;)x=sa(x),B--;for(;I--;){if(Et===x||x!==null&&Et===x.alternate)break e;Et=sa(Et),x=sa(x)}Et=null}else Et=null;q!==null&&lp(F,P,q,Et,!1),at!==null&&se!==null&&lp(F,se,at,Et,!0)}}t:{if(P=N?Ki(N):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var st=xd;else if(ve(P))if(Ud)st=Gv;else{st=jv;var wt=qv}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?N&&ka(N.elementType)&&(st=xd):st=Hv;if(st&&(st=st(t,N))){yi(F,st,r,H);break t}wt&&wt(t,P,N),t==="focusout"&&N&&P.type==="number"&&N.memoizedProps.value!=null&&Ds(P,"number",P.value)}switch(wt=N?Ki(N):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(zs=wt,Dc=N,Za=null);break;case"focusout":Za=Dc=zs=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Hd(F,r,H);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":Hd(F,r,H)}var ct;if(Yn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else It?k(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(It||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&It&&(ct=ja()):(Gn=H,Wi="value"in Gn?Gn.value:Gn.textContent,It=!0)),wt=uo(N,mt),0<wt.length&&(mt=new Qa(mt,t,null,r,H),F.push({event:mt,listeners:wt}),ct?mt.data=ct:(ct=$(r),ct!==null&&(mt.data=ct)))),(ct=m?_e(t,r):Nt(t,r))&&(mt=uo(N,"onBeforeInput"),0<mt.length&&(wt=new Qa("onBeforeInput","beforeinput",null,r,H),F.push({event:wt,listeners:mt}),wt.data=ct)),VE(F,t,N,r,H)}sp(F,n)})}function bl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qr(t,r),c!=null&&l.unshift(bl(t,c,f)),c=qr(t,n),c!=null&&l.push(bl(t,c,f))),t=t.return}return l}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,N=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||N===null||(R=N,c?(N=qr(r,f),N!=null&&y.unshift(bl(r,N,R))):c||(N=qr(r,f),N!=null&&y.push(bl(r,N,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var ME=/\r\n?/g,xE=/\u0000|\uFFFD/g;function up(t){return(typeof t=="string"?t:""+t).replace(ME,`
`).replace(xE,"")}function op(t,n){return n=up(n),up(t)===n}function oo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Zi(t,"class",l);break;case"tabIndex":Zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(t,r,l);break;case"style":hu(t,l,f);break;case"data":if(n!=="object"){Zi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ec.get(r)||r,Xi(t,r,l))}}function $h(t,n,r,l,c,f){switch(r){case"style":hu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Xi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,R=null,N=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":N=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Ft(t,n,l,H,r,null)}}Pr(t,f,E,R,N,y,c,!1),Br(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Bt(t,!!l,n,!1):r!=null&&Bt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ft(t,n,y,E,r,null)}Ji(t,l,c,f),Br(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,R,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Vt(Sl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,N,l,r,null)}return;default:if(ka(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&$h(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function UE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,N=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,F)}}for(var P in l){var q=l[P];if(F=r[P],l.hasOwnProperty(P)&&(q!=null||F!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":N=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Ft(t,n,P,q,l,F)}}$i(t,y,E,R,N,H,f,c);return;case"select":q=y=E=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Ft(t,n,c,f,l,R)}n=E,r=y,l=q,P!=null?Bt(t,!!r,P,!1):!!l!=!!r&&(n!=null?Bt(t,!!r,n,!0):Bt(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}kr(t,P,q);return;case"option":for(var at in r)if(P=r[at],r.hasOwnProperty(at)&&P!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Ft(t,n,at,null,l,P)}for(R in l)if(P=l[R],q=r[R],l.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null))switch(R){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,R,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in r)P=r[Et],r.hasOwnProperty(Et)&&P!=null&&!l.hasOwnProperty(Et)&&Ft(t,n,Et,null,l,P);for(N in l)if(P=l[N],q=r[N],l.hasOwnProperty(N)&&P!==q&&(P!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Ft(t,n,N,P,l,q)}return;default:if(ka(n)){for(var se in r)P=r[se],r.hasOwnProperty(se)&&P!==void 0&&!l.hasOwnProperty(se)&&$h(t,n,se,void 0,l,P);for(H in l)P=l[H],q=r[H],!l.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||$h(t,n,H,P,l,q);return}}for(var x in r)P=r[x],r.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,P);for(F in l)P=l[F],q=r[F],!l.hasOwnProperty(F)||P===q||P==null&&q==null||Ft(t,n,F,P,l,q)}var Jh=null,Wh=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function LE(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var fp=typeof setTimeout=="function"?setTimeout:void 0,zE=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(t){return dp.resolve(null).then(t).catch(PE)}:fp;function PE(t){setTimeout(function(){throw t})}function nf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Nl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Nl(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rf(r),zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function kE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function qE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function mp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function gp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var On=new Map,pp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ni=it.d;it.d={f:jE,r:HE,D:GE,C:QE,L:FE,m:KE,X:XE,S:YE,M:ZE};function jE(){var t=Ni.f(),n=io();return t||n}function HE(t){var n=ci(t);n!==null&&n.tag===5&&n.type==="form"?Hm(n):Ni.r(t)}var aa=typeof document>"u"?null:document;function yp(t,n,r){var l=aa;if(l&&typeof n=="string"&&n){var c=ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),pp.has(c)||(pp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),$t(n),l.head.appendChild(n)))}}function GE(t){Ni.D(t),yp("dns-prefetch",t,null)}function QE(t,n){Ni.C(t,n),yp("preconnect",t,n)}function FE(t,n,r){Ni.L(t,n,r);var l=aa;if(l&&t&&n){var c='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ne(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ne(r.imageSizes)+'"]')):c+='[href="'+ne(t)+'"]';var f=c;switch(n){case"style":f=la(t);break;case"script":f=ua(t)}On.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),On.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Rl(f))||n==="script"&&l.querySelector(wl(f))||(n=l.createElement("link"),ze(n,"link",t),$t(n),l.head.appendChild(n)))}}function KE(t,n){Ni.m(t,n);var r=aa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ne(l)+'"][href="'+ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ua(t)}if(!On.has(f)&&(t=D({rel:"modulepreload",href:t},n),On.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wl(f)))return}l=r.createElement("link"),ze(l,"link",t),$t(l),r.head.appendChild(l)}}}function YE(t,n,r){Ni.S(t,n,r);var l=aa;if(l&&t){var c=Yi(l).hoistableStyles,f=la(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Rl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=On.get(f))&&sf(t,r);var R=y=l.createElement("link");$t(R),ze(R,"link",t),R._p=new Promise(function(N,H){R.onload=N,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function XE(t,n){Ni.X(t,n);var r=aa;if(r&&t){var l=Yi(r).hoistableScripts,c=ua(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=D({src:t,async:!0},n),(n=On.get(c))&&af(t,n),f=r.createElement("script"),$t(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ZE(t,n){Ni.M(t,n);var r=aa;if(r&&t){var l=Yi(r).hoistableScripts,c=ua(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=On.get(c))&&af(t,n),f=r.createElement("script"),$t(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function _p(t,n,r,l){var c=(c=mn.current)?ho(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=la(r.href),r=Yi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=la(r.href);var f=Yi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Rl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),f||$E(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ua(r),r=Yi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function la(t){return'href="'+ne(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function vp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function $E(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),$t(n),t.head.appendChild(n))}function ua(t){return'[src="'+ne(t)+'"]'}function wl(t){return"script[async]"+t}function Ep(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ne(r.href)+'"]');if(l)return n.instance=l,$t(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),ze(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=la(r.href);var f=t.querySelector(Rl(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;l=vp(r),(c=On.get(c))&&sf(l,c),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=ua(r.src),(c=t.querySelector(wl(f)))?(n.instance=c,$t(c),c):(l=r,(c=On.get(f))&&(l=D({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),$t(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Tp(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Fi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Ap(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function JE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function WE(){}function t0(t,n,r){if(Dl===null)throw Error(s(475));var l=Dl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=la(r.href),f=t.querySelector(Rl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,$t(f);return}f=t.ownerDocument||t,r=vp(r),(c=On.get(c))&&sf(r,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function e0(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(n0,t),po=null,go.call(t))}function n0(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:j,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function i0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function bp(t,n,r,l,c,f,y,E,R,N,H,F){return t=new i0(t,n,r,y,E,R,N,F),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=Bc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},_h(f),t}function Rp(t){return t?(t=ks,t):ks}function wp(t,n,r,l,c,f){c=Rp(c),l.context===null?l.context=c:l.pendingContext=c,l=lr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ur(t,l,n),r!==null&&(Je(r,t,n),hl(r,t,n))}function Dp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function uf(t,n){Dp(t,n),(t=t.alternate)&&Dp(t,n)}function Cp(t){if(t.tag===13){var n=tr(t,67108864);n!==null&&Je(n,t,67108864),uf(t,67108864)}}var yo=!0;function r0(t,n,r,l){var c=A.T;A.T=null;var f=it.p;try{it.p=2,of(t,n,r,l)}finally{it.p=f,A.T=c}}function s0(t,n,r,l){var c=A.T;A.T=null;var f=it.p;try{it.p=8,of(t,n,r,l)}finally{it.p=f,A.T=c}}function of(t,n,r,l){if(yo){var c=cf(l);if(c===null)Zh(t,n,l,_o,r),Op(t,l);else if(l0(c,t,n,r,l))l.stopPropagation();else if(Op(t,l),n&4&&-1<a0.indexOf(t)){for(;c!==null;){var f=ci(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Nn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Ye(y);E.entanglements[1]|=R,y&=~R}ti(f),(Wt&6)===0&&(to=We()+500,Al(0))}}break;case 13:E=tr(f,2),E!==null&&Je(E,f,2),io(),uf(f,2)}if(f=cf(l),f===null&&Zh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zh(t,n,l,null,r)}}function cf(t){return t=Cs(t),hf(t)}var _o=null;function hf(t){if(_o=null,t=Mn(t),t!==null){var n=ft(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=qt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function Vp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case pe:return 2;case we:return 8;case ui:case iu:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var ff=!1,gr=null,pr=null,yr=null,Vl=new Map,Ol=new Map,_r=[],a0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(t,n){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ci(n),n!==null&&Cp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function l0(t,n,r,l,c){switch(n){case"focusin":return gr=Il(gr,t,n,r,l,c),!0;case"dragenter":return pr=Il(pr,t,n,r,l,c),!0;case"mouseover":return yr=Il(yr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Il(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function Ip(t){var n=Mn(t.target);if(n!==null){var r=ft(n);if(r!==null){if(n=r.tag,n===13){if(n=qt(r),n!==null){t.blockedOn=n,Qi(t.priority,function(){if(r.tag===13){var l=fn(),c=tr(r,l);c!==null&&Je(c,r,l),uf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_n=l,r.target.dispatchEvent(l),_n=null}else return n=ci(r),n!==null&&Cp(n),t.blockedOn=r,!1;n.shift()}return!0}function Np(t,n,r){vo(t)&&r.delete(n)}function u0(){ff=!1,gr!==null&&vo(gr)&&(gr=null),pr!==null&&vo(pr)&&(pr=null),yr!==null&&vo(yr)&&(yr=null),Vl.forEach(Np),Ol.forEach(Np)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,u0)))}var To=null;function Mp(t){To!==t&&(To=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(hf(l||r)===null)continue;break}var f=ci(r);f!==null&&(t.splice(n,3),n-=3,th(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(R){return Eo(R,t)}gr!==null&&Eo(gr,t),pr!==null&&Eo(pr,t),yr!==null&&Eo(yr,t),Vl.forEach(n),Ol.forEach(n);for(var r=0;r<_r.length;r++){var l=_r[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)Ip(r),r.blockedOn===null&&_r.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ye]||null;if(typeof f=="function")y||Mp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(hf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Mp(r)}}}function df(t){this._internalRoot=t}Ao.prototype.render=df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();wp(r,l,t,n,null,null)},Ao.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ia(),wp(t.current,2,null,t,null,null),io(),n[oi]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<_r.length&&n!==0&&n<_r[r].priority;r++);_r.splice(r,0,t),r===0&&Ip(t)}};var xp=e.version;if(xp!=="19.0.0")throw Error(s(527,xp,"19.0.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Y(n),t=t!==null?ut(t):null,t=t===null?null:t.stateNode,t};var o0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Pi=So.inject(o0),qe=So}catch{}}return xl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=$m,f=Jm,y=Wm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=bp(t,1,!1,null,null,r,l,c,f,y,E,null),t[oi]=n.current,Xh(t.nodeType===8?t.parentNode:t),new df(n)},xl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=$m,y=Jm,E=Wm,R=null,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(N=r.formState)),n=bp(t,1,!0,n,r??null,l,c,f,y,E,R,N),n.context=Rp(null),r=n.current,l=fn(),c=lr(l),c.callback=null,ur(r,c,l),n.current.lanes=l,ae(n,l),ti(n),t[oi]=n.current,Xh(t),new Ao(n)},xl.version="19.0.0",xl}var Gp;function v0(){if(Gp)return pf.exports;Gp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),pf.exports=_0(),pf.exports}var E0=v0();const T0=()=>{};var Qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},A0=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,_=u+2<a.length,v=_?a[u+2]:0,S=h>>2,O=(h&3)<<4|g>>4;let z=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(z=64)),s.push(i[S],i[O],i[z],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray($y(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):A0(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const v=u<a.length?i[a.charAt(u)]:64;++u;const O=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||v==null||O==null)throw new S0;const z=h<<2|g>>4;if(s.push(z),v!==64){const j=g<<4&240|v>>2;if(s.push(j),O!==64){const X=v<<6&192|O;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class S0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b0=function(a){const e=$y(a);return Jy.encodeByteArray(e,!0)},Uo=function(a){return b0(a).replace(/\./g,"")},R0=function(a){try{return Jy.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=()=>w0().__FIREBASE_DEFAULTS__,C0=()=>{if(typeof process>"u"||typeof Qp>"u")return;const a=Qp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},V0=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&R0(a[1]);return e&&JSON.parse(e)},$f=()=>{try{return T0()||D0()||C0()||V0()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},O0=a=>{var e,i;return(i=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},I0=a=>{const e=O0(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Wy=()=>{var a;return(a=$f())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U0(){var a;const e=(a=$f())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L0(){return!U0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z0(){try{return typeof indexedDB=="object"}catch{return!1}}function B0(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="FirebaseError";class Aa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=P0,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t_.prototype.create)}}class t_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?k0(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Aa(u,g,s)}}function k0(a,e){return a.replace(q0,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const q0=/\{\$([^}]+)}/g;function Lo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(Fp(h)&&Fp(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Fp(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(a){return a&&a._delegate?a._delegate:a}class Hl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new N0;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G0(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:H0(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H0(a){return a===fs?void 0:a}function G0(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new j0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ut||(Ut={}));const F0={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},K0=Ut.INFO,Y0={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},X0=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=Y0[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e_{constructor(e){this.name=e,this._logLevel=K0,this._logHandler=X0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const Z0=(a,e)=>e.some(i=>a instanceof i);let Kp,Yp;function $0(){return Kp||(Kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J0(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n_=new WeakMap,Vf=new WeakMap,i_=new WeakMap,Ef=new WeakMap,Jf=new WeakMap;function W0(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Tr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&n_.set(i,a)}).catch(()=>{}),Jf.set(e,a),e}function tT(a){if(Vf.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Vf.set(a,e)}let Of={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Vf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||i_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function eT(a){Of=a(Of)}function nT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Tf(this),e,...i);return i_.set(s,e.sort?e.sort():[e]),Tr(s)}:J0().includes(a)?function(...e){return a.apply(Tf(this),e),Tr(n_.get(this))}:function(...e){return Tr(a.apply(Tf(this),e))}}function iT(a){return typeof a=="function"?nT(a):(a instanceof IDBTransaction&&tT(a),Z0(a,$0())?new Proxy(a,Of):a)}function Tr(a){if(a instanceof IDBRequest)return W0(a);if(Ef.has(a))return Ef.get(a);const e=iT(a);return e!==a&&(Ef.set(a,e),Jf.set(e,a)),e}const Tf=a=>Jf.get(a);function rT(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=Tr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Tr(d.result),_.oldVersion,_.newVersion,Tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const sT=["get","getKey","getAll","getAllKeys","count"],aT=["put","add","delete","clear"],Af=new Map;function Xp(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=aT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||sT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Af.set(e,h),h}eT(a=>({...a,get:(e,i,s)=>Xp(e,i)||a.get(e,i,s),has:(e,i)=>!!Xp(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function uT(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",Zp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new e_("@firebase/app"),oT="@firebase/app-compat",cT="@firebase/analytics-compat",hT="@firebase/analytics",fT="@firebase/app-check-compat",dT="@firebase/app-check",mT="@firebase/auth",gT="@firebase/auth-compat",pT="@firebase/database",yT="@firebase/data-connect",_T="@firebase/database-compat",vT="@firebase/functions",ET="@firebase/functions-compat",TT="@firebase/installations",AT="@firebase/installations-compat",ST="@firebase/messaging",bT="@firebase/messaging-compat",RT="@firebase/performance",wT="@firebase/performance-compat",DT="@firebase/remote-config",CT="@firebase/remote-config-compat",VT="@firebase/storage",OT="@firebase/storage-compat",IT="@firebase/firestore",NT="@firebase/vertexai",MT="@firebase/firestore-compat",xT="firebase",UT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",LT={[If]:"fire-core",[oT]:"fire-core-compat",[hT]:"fire-analytics",[cT]:"fire-analytics-compat",[dT]:"fire-app-check",[fT]:"fire-app-check-compat",[mT]:"fire-auth",[gT]:"fire-auth-compat",[pT]:"fire-rtdb",[yT]:"fire-data-connect",[_T]:"fire-rtdb-compat",[vT]:"fire-fn",[ET]:"fire-fn-compat",[TT]:"fire-iid",[AT]:"fire-iid-compat",[ST]:"fire-fcm",[bT]:"fire-fcm-compat",[RT]:"fire-perf",[wT]:"fire-perf-compat",[DT]:"fire-rc",[CT]:"fire-rc-compat",[VT]:"fire-gcs",[OT]:"fire-gcs-compat",[IT]:"fire-fst",[MT]:"fire-fst-compat",[NT]:"fire-vertex","fire-js":"fire-js",[xT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,zT=new Map,Mf=new Map;function $p(a,e){try{a.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Bo(a){const e=a.name;if(Mf.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,a);for(const i of zo.values())$p(i,a);for(const i of zT.values())$p(i,a);return!0}function BT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function PT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new t_("app","Firebase",kT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=UT;function r_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Nf,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw Ar.create("bad-app-name",{appName:String(u)});if(i||(i=Wy()),!i)throw Ar.create("no-options");const h=zo.get(u);if(h){if(Lo(i,h.options)&&Lo(s,h.config))return h;throw Ar.create("duplicate-app",{appName:u})}const d=new Q0(u);for(const _ of Mf.values())d.addComponent(_);const g=new qT(i,s,d);return zo.set(u,g),g}function HT(a=Nf){const e=zo.get(a);if(!e&&a===Nf&&Wy())return r_();if(!e)throw Ar.create("no-app",{appName:a});return e}function da(a,e,i){var s;let u=(s=LT[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Bo(new Hl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebase-heartbeat-database",QT=1,Gl="firebase-heartbeat-store";let Sf=null;function s_(){return Sf||(Sf=rT(GT,QT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ar.create("idb-open",{originalErrorMessage:a.message})})),Sf}async function FT(a){try{const i=(await s_()).transaction(Gl),s=await i.objectStore(Gl).get(a_(a));return await i.done,s}catch(e){if(e instanceof Aa)xi.warn(e.message);else{const i=Ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function Jp(a,e){try{const s=(await s_()).transaction(Gl,"readwrite");await s.objectStore(Gl).put(e,a_(a)),await s.done}catch(i){if(i instanceof Aa)xi.warn(i.message);else{const s=Ar.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function a_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=1024,YT=30;class XT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $T(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Wp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>YT){const d=JT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Wp(),{heartbeatsToSend:s,unsentEntries:u}=ZT(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function Wp(){return new Date().toISOString().substring(0,10)}function ZT(a,e=KT){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),ty(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),ty(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class $T{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z0()?B0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function ty(a){return Uo(JSON.stringify({version:2,heartbeats:a})).length}function JT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(a){Bo(new Hl("platform-logger",e=>new lT(e),"PRIVATE")),Bo(new Hl("heartbeat",e=>new XT(e),"PRIVATE")),da(If,Zp,a),da(If,Zp,"esm2017"),da("fire-js","")}WT("");var tA="firebase",eA="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(tA,eA,"app");var ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,l_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function A(){}A.prototype=b.prototype,C.D=b.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(D,M,L){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return b.prototype[M].apply(D,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(C,b,A){A||(A=0);var D=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)D[M]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=C.g[0],A=C.g[1],M=C.g[2];var L=C.g[3],w=b+(L^A&(M^L))+D[0]+3614090360&4294967295;b=A+(w<<7&4294967295|w>>>25),w=L+(M^b&(A^M))+D[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(A^L&(b^A))+D[2]+606105819&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(b^M&(L^b))+D[3]+3250441966&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(L^A&(M^L))+D[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=L+(M^b&(A^M))+D[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(A^L&(b^A))+D[6]+2821735955&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(b^M&(L^b))+D[7]+4249261313&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(L^A&(M^L))+D[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=L+(M^b&(A^M))+D[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(A^L&(b^A))+D[10]+4294925233&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(b^M&(L^b))+D[11]+2304563134&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(L^A&(M^L))+D[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=L+(M^b&(A^M))+D[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(A^L&(b^A))+D[14]+2792965006&4294967295,M=L+(w<<17&4294967295|w>>>15),w=A+(b^M&(L^b))+D[15]+1236535329&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(M^L&(A^M))+D[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(b^A))+D[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(L^b))+D[11]+643717713&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(M^L))+D[0]+3921069994&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(A^M))+D[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(b^A))+D[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(L^b))+D[15]+3634488961&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(M^L))+D[4]+3889429448&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(A^M))+D[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(b^A))+D[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(L^b))+D[3]+4107603335&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(M^L))+D[8]+1163531501&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(A^M))+D[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^M&(b^A))+D[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(L^b))+D[7]+1735328473&4294967295,M=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(M^L))+D[12]+2368359562&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(A^M^L)+D[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^M)+D[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^A)+D[11]+1839030562&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^b)+D[14]+4259657740&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(A^M^L)+D[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^M)+D[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^A)+D[7]+4139469664&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^b)+D[10]+3200236656&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(A^M^L)+D[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^M)+D[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^A)+D[3]+3572445317&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^b)+D[6]+76029189&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(A^M^L)+D[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^M)+D[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^A)+D[15]+530742520&4294967295,M=L+(w<<16&4294967295|w>>>16),w=A+(M^L^b)+D[2]+3299628645&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(M^(A|~L))+D[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~M))+D[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~A))+D[14]+2878612391&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~b))+D[5]+4237533241&4294967295,A=M+(w<<21&4294967295|w>>>11),w=b+(M^(A|~L))+D[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~M))+D[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~A))+D[10]+4293915773&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~b))+D[1]+2240044497&4294967295,A=M+(w<<21&4294967295|w>>>11),w=b+(M^(A|~L))+D[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~M))+D[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~A))+D[6]+2734768916&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~b))+D[13]+1309151649&4294967295,A=M+(w<<21&4294967295|w>>>11),w=b+(M^(A|~L))+D[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~M))+D[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~A))+D[2]+718787259&4294967295,M=L+(w<<15&4294967295|w>>>17),w=A+(L^(M|~b))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var A=b-this.blockSize,D=this.B,M=this.h,L=0;L<b;){if(M==0)for(;L<=A;)u(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(D[M++]=C.charCodeAt(L++),M==this.blockSize){u(this,D),M=0;break}}else for(;L<b;)if(D[M++]=C[L++],M==this.blockSize){u(this,D),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var A=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=A&255,A/=256;for(this.u(C),C=Array(16),b=A=0;4>b;++b)for(var D=0;32>D;D+=8)C[A++]=this.g[b]>>>D&255;return C};function h(C,b){var A=g;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=b(C)}function d(C,b){this.h=b;for(var A=[],D=!0,M=C.length-1;0<=M;M--){var L=C[M]|0;D&&L==b||(A[M]=L,D=!1)}this.g=A}var g={};function _(C){return-128<=C&&128>C?h(C,function(b){return new d([b|0],0>b?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return O;if(0>C)return Z(v(-C));for(var b=[],A=1,D=0;C>=A;D++)b[D]=C/A|0,A*=4294967296;return new d(b,0)}function S(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Z(S(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),D=O,M=0;M<C.length;M+=8){var L=Math.min(8,C.length-M),w=parseInt(C.substring(M,M+L),b);8>L?(L=v(Math.pow(b,L)),D=D.j(L).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var O=_(0),z=_(1),j=_(16777216);a=d.prototype,a.m=function(){if(tt(this))return-Z(this).m();for(var C=0,b=1,A=0;A<this.g.length;A++){var D=this.i(A);C+=(0<=D?D:4294967296+D)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(tt(this))return"-"+Z(this).toString(C);for(var b=v(Math.pow(C,6)),A=this,D="";;){var M=Lt(A,b).g;A=vt(A,M.j(b));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=M,X(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},a.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function tt(C){return C.h==-1}a.l=function(C){return C=vt(this,C),tt(C)?-1:X(C)?0:1};function Z(C){for(var b=C.g.length,A=[],D=0;D<b;D++)A[D]=~C.g[D];return new d(A,~C.h).add(z)}a.abs=function(){return tt(this)?Z(this):this},a.add=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],D=0,M=0;M<=b;M++){var L=D+(this.i(M)&65535)+(C.i(M)&65535),w=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);D=w>>>16,L&=65535,w&=65535,A[M]=w<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function vt(C,b){return C.add(Z(b))}a.j=function(C){if(X(this)||X(C))return O;if(tt(this))return tt(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(tt(C))return Z(this.j(Z(C)));if(0>this.l(j)&&0>C.l(j))return v(this.m()*C.m());for(var b=this.g.length+C.g.length,A=[],D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<C.g.length;M++){var L=this.i(D)>>>16,w=this.i(D)&65535,ge=C.i(M)>>>16,oe=C.i(M)&65535;A[2*D+2*M]+=w*oe,gt(A,2*D+2*M),A[2*D+2*M+1]+=L*oe,gt(A,2*D+2*M+1),A[2*D+2*M+1]+=w*ge,gt(A,2*D+2*M+1),A[2*D+2*M+2]+=L*ge,gt(A,2*D+2*M+2)}for(D=0;D<b;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=b;D<2*b;D++)A[D]=0;return new d(A,0)};function gt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function et(C,b){this.g=C,this.h=b}function Lt(C,b){if(X(b))throw Error("division by zero");if(X(C))return new et(O,O);if(tt(C))return b=Lt(Z(C),b),new et(Z(b.g),Z(b.h));if(tt(b))return b=Lt(C,Z(b)),new et(Z(b.g),b.h);if(30<C.g.length){if(tt(C)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var A=z,D=b;0>=D.l(C);)A=lt(A),D=lt(D);var M=ht(A,1),L=ht(D,1);for(D=ht(D,2),A=ht(A,2);!X(D);){var w=L.add(D);0>=w.l(C)&&(M=M.add(A),L=w),D=ht(D,1),A=ht(A,1)}return b=vt(C,M.j(b)),new et(M,b)}for(M=O;0<=C.l(b);){for(A=Math.max(1,Math.floor(C.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(A),w=L.j(b);tt(w)||0<w.l(C);)A-=D,L=v(A),w=L.j(b);X(L)&&(L=z),M=M.add(L),C=vt(C,w)}return new et(M,C)}a.A=function(C){return Lt(this,C).h},a.and=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)&C.i(D);return new d(A,this.h&C.h)},a.or=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)|C.i(D);return new d(A,this.h|C.h)},a.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)^C.i(D);return new d(A,this.h^C.h)};function lt(C){for(var b=C.g.length+1,A=[],D=0;D<b;D++)A[D]=C.i(D)<<1|C.i(D-1)>>>31;return new d(A,C.h)}function ht(C,b){var A=b>>5;b%=32;for(var D=C.g.length-A,M=[],L=0;L<D;L++)M[L]=0<b?C.i(L+A)>>>b|C.i(L+A+1)<<32-b:C.i(L+A);return new d(M,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Sr=d}).apply(typeof ey<"u"?ey:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u_,Ul,o_,Vo,xf,c_,h_,f_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,U={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function S(o,m,p){return o.call.apply(o.bind,arguments)}function O(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),o.apply(m,U)}}return function(){return o.apply(m,arguments)}}function z(o,m,p){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:O,z.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function X(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,U,k){for(var $=Array(arguments.length-2),It=2;It<arguments.length;It++)$[It-2]=arguments[It];return m.prototype[U].apply(T,$)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=o.length||0,k=T.length||0;o.length=U+k;for(let $=0;$<k;$++)o[U+$]=T[$]}else o.push(T)}}class vt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function et(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Lt(o){return Lt[" "](o),o}Lt[" "]=function(){};var lt=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function ht(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function C(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let k=0;k<A.length;k++)p=A[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function L(o){g.setTimeout(()=>{throw o},0)}function w(){var o=qt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new vt(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ft=!1,qt=new ge,V=()=>{const o=g.Promise.resolve(void 0);pt=()=>{o.then(Y)}};var Y=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){L(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function bt(o,m){if(nt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(lt){t:{try{Lt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:At[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}X(bt,nt);var At={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ee(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++zt,this.da=this.fa=!1}function Gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ke(o){this.src=o,this.g={},this.h=0}Ke.prototype.add=function(o,m,p,T,U){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var $=mn(o,m,T,U);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new ee(m,this.src,k,!!T,U),m.fa=p,o.push(m)),m};function ai(o,m){var p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=U)&&Array.prototype.splice.call(T,U,1),k&&(Gt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function mn(o,m,p,T){for(var U=0;U<o.length;++U){var k=o[U];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return U}return-1}var zi="closure_lm_"+(1e6*Math.random()|0),Bi={};function li(o,m,p,T,U){if(Array.isArray(m)){for(var k=0;k<m.length;k++)li(o,m[k],p,T,U);return null}return p=nu(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,U):Ca(o,m,p,!1,T,U)}function Ca(o,m,p,T,U,k){if(!m)throw Error("Invalid event type");var $=v(U)?!!U.capture:!!U,It=Va(o);if(It||(o[zi]=It=new Ke(o)),p=It.add(m,p,T,$,k),p.proxy)return p;if(T=vs(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)it||(U=$),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Ts(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function vs(){function o(p){return m.call(o.src,o.listener,p)}const m=gc;return o}function Es(o,m,p,T,U){if(Array.isArray(m))for(var k=0;k<m.length;k++)Es(o,m[k],p,T,U);else T=v(T)?!!T.capture:!!T,p=nu(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=mn(k,p,T,U),-1<p&&(Gt(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=Va(o))&&(m=o.g[m.toString()],o=-1,m&&(o=mn(m,p,T,U)),(p=-1<o?m[o]:null)&&xr(p))}function xr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ai(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ts(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Va(m))?(ai(p,o),p.h==0&&(p.src=null,m[zi]=null)):Gt(o)}}}function Ts(o){return o in Bi?Bi[o]:Bi[o]="on"+o}function gc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&xr(o),o=p.call(T,m)}return o}function Va(o){return o=o[zi],o instanceof Ke?o:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(o){return typeof o=="function"?o:(o[We]||(o[We]=function(m){return o.handleEvent(m)}),o[We])}function pe(){ut.call(this),this.i=new Ke(this),this.M=this,this.F=null}X(pe,ut),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,p,T){Es(this,o,m,p,T)};function we(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new nt(m,o);else if(m instanceof nt)m.target=m.target||o;else{var U=m;m=new nt(T,o),D(m,U)}if(U=!0,p)for(var k=p.length-1;0<=k;k--){var $=m.g=p[k];U=ui($,T,!0,m)&&U}if($=m.g=o,U=ui($,T,!0,m)&&U,U=ui($,T,!1,m)&&U,p)for(k=0;k<p.length;k++)$=m.g=p[k],U=ui($,T,!1,m)&&U}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Gt(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function ui(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,k=0;k<m.length;++k){var $=m[k];if($&&!$.da&&$.capture==p){var It=$.listener,_e=$.ha||$.src;$.fa&&ai(o.i,$),U=It.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function iu(o,m,p){if(typeof o=="function")p&&(o=z(o,p));else if(o&&typeof o.handleEvent=="function")o=z(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Oa(o){o.g=iu(()=>{o.g=null,o.i&&(o.i=!1,Oa(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class pc extends ut{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Oa(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(o){ut.call(this),this.h=o,this.g={}}X(Ur,ut);var Pi=[];function qe(o){ht(o.g,function(m,p){this.g.hasOwnProperty(p)&&xr(m)},o),o.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),qe(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=g.JSON.stringify,Pn=g.JSON.parse,Ye=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Na(){}Na.prototype.h=null;function ru(o){return o.h||(o.h=o.i())}function su(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){nt.call(this,"d")}X(ki,nt);function Nn(){nt.call(this,"c")}X(Nn,nt);var gn={},qi=null;function As(){return qi=qi||new pe}gn.La="serverreachability";function Ma(o){nt.call(this,gn.La,o)}X(Ma,nt);function ji(o){const m=As();we(m,new Ma(m))}gn.STAT_EVENT="statevent";function Ss(o,m){nt.call(this,gn.STAT_EVENT,o),this.stat=m}X(Ss,nt);function ae(o){const m=As();we(m,new Ss(m,o))}gn.Ma="timingevent";function au(o,m){nt.call(this,gn.Ma,o),this.size=m}X(au,nt);function Hi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function lu(o,m,p,T,U,k){o.info(function(){if(o.g)if(k)for(var $="",It=k.split("&"),_e=0;_e<It.length;_e++){var Nt=It[_e].split("=");if(1<Nt.length){var Ve=Nt[0];Nt=Nt[1];var ve=Ve.split("_");$=2<=ve.length&&ve[1]=="type"?$+(Ve+"="+Nt+"&"):$+(Ve+"=redacted&")}}else $=null;else $=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+$})}function uu(o,m,p,T,U,k,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+k+" "+$})}function Qi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(o,p)+(T?" "+T:"")})}function qn(o,m){o.info(function(){return"TIMEOUT: "+m})}Gi.prototype.info=function(){};function De(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var k=U[0];if(k!="noop"&&k!="stop"&&k!="close")for(var $=1;$<U.length;$++)U[$]=""}}}}return Ia(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lr;function bs(){}X(bs,Na),bs.prototype.g=function(){return new XMLHttpRequest},bs.prototype.i=function(){return{}},Lr=new bs;function jn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xa}function xa(){this.i=null,this.g="",this.h=!1}var Fi={},zr={};function Mn(o,m,p){o.L=1,o.v=kr(ne(m)),o.m=p,o.P=!0,ci(o,null)}function ci(o,m){o.F=Date.now(),$t(o),o.A=ne(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),di(p.i,"t",T),o.C=0,p=o.j.J,o.h=new xa,o.g=Au(o.j,p?m:null,!o.m),0<o.O&&(o.M=new pc(z(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(Pi[0]=U.toString()),U=Pi);for(var k=0;k<U.length;k++){var $=li(p,U[k],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ji(),lu(o.i,o.u,o.A,o.l,o.R,o.m)}jn.prototype.ca=function(o){o=o.target;const m=this.M;m&&En(o)==3?m.j():this.Y(o)},jn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=En(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=yi?ji(3):ji(2)),Rs(this);var p=this.g.Z();this.X=p;e:if(Ki(this)){var T=mu(this.g);o="";var U=T.length,k=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),an(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==U-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,uu(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,_e=this.g;if((It=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(It)){var Nt=It;break e}}Nt=null}if(p=Nt)Qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,p);else{this.o=!1,this.s=3,ae(12),tn(this),an(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<$.length;)if(xe=Yi(this,$),xe==zr){ve==4&&(this.s=4,ae(14),p=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Fi){this.s=4,ae(15),Qi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Qi(this.i,this.l,xe,null),ln(this,xe);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||$.length!=0||this.h.h||(this.s=1,ae(16),p=!1),this.o=this.o&&p,!p)Qi(this.i,this.l,$,"[Invalid Chunked Response]"),tn(this),an(this);else if(0<$.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Kr(Ve),Ve.M=!0,ae(11))}}else Qi(this.i,this.l,$,null),ln(this,$);ve==4&&tn(this),this.o&&!this.J&&(ve==4?vu(this.j,this):(this.o=!1,$t(this)))}else Ac(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),tn(this),an(this)}}}catch{}finally{}};function Ki(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Yi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?zr:(p=Number(m.substring(p,T)),isNaN(p)?Fi:(T+=1,T+p>m.length?zr:(m=m.slice(T,T+p),o.C=T+p,m)))}jn.prototype.cancel=function(){this.J=!0,tn(this)};function $t(o){o.S=Date.now()+o.I,Ua(o,o.I)}function Ua(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Hi(z(o.ba,o),m)}function Rs(o){o.B&&(g.clearTimeout(o.B),o.B=null)}jn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(qn(this.i,this.A),this.L!=2&&(ji(),ae(17)),tn(this),this.s=2,an(this)):Ua(this,this.S-o)};function an(o){o.j.G==0||o.J||vu(o.j,o)}function tn(o){Rs(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,qe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function ln(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Xi(p.h,o))){if(!o.K&&Xi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Us(p),Ms(p);else break t;Fa(p),ae(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=Hi(z(p.Za,p),6e3));if(1>=ou(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pi(p,11)}else if((o.K||p.g==o)&&Us(p),!gt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Nt=U[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ve=Nt[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const ve=Nt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const yi=Nt[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=o.g;if(xe){const Xn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var k=T.h;k.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Zi(k,k.h),k.h=null))}if(T.D){const Ya=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(T.ya=Ya,Bt(T.I,T.D,Ya))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=Tu(T,T.J?T.ia:null,T.W),$.K){pn(T.h,$);var It=$,_e=T.L;_e&&(It.I=_e),It.B&&(Rs(It),$t(It)),T.g=$}else yu(T);0<p.i.length&&xs(p)}else Nt[0]!="stop"&&Nt[0]!="close"||pi(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?pi(p,7):Ga(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}ji(4)}catch{}}var yc=class{constructor(o,m){this.g=o,this.map=m}};function La(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ou(o){return o.h?1:o.g?o.g.size:0}function Xi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Zi(o,m){o.g?o.g.add(m):o.h=m}function pn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}La.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Xe(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function cu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function _c(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Br(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=_c(o),T=cu(o),U=T.length,k=0;k<U;k++)m.call(void 0,T[k],p&&p[k],o)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),U=null;if(0<=T){var k=o[p].substring(0,T);U=o[p].substring(T+1)}else k=o[p];m(k,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function hi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof hi){this.h=o.h,$i(this,o.j),this.o=o.o,this.g=o.g,Pr(this,o.s),this.l=o.l;var m=o.i,p=new Hn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ds(this,p),this.m=o.m}else o&&(m=String(o).match(Ba))?(this.h=!1,$i(this,m[1]||"",!0),this.o=Ji(m[2]||""),this.g=Ji(m[3]||"",!0),Pr(this,m[4]),this.l=Ji(m[5]||"",!0),Ds(this,m[6]||"",!0),this.m=Ji(m[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}hi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(yn(m,Pa,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(yn(m,Pa,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(yn(p,p.charAt(0)=="/"?ka:hu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",yn(p,Tc)),o.join("")};function ne(o){return new hi(o)}function $i(o,m,p){o.j=p?Ji(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Pr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ds(o,m,p){m instanceof Hn?(o.i=m,qa(o.i,o.h)):(p||(m=yn(m,Ec)),o.i=new Hn(m,o.h))}function Bt(o,m,p){o.i.set(m,p)}function kr(o){return Bt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ji(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function yn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,vc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Pa=/[#\/\?@]/g,hu=/[#\?:]/g,ka=/[#\?]/g,Ec=/[#\?@]/g,Tc=/#/g;function Hn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function _n(o){o.g||(o.g=new Map,o.h=0,o.i&&ws(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Hn.prototype,a.add=function(o,m){_n(this),this.i=null,o=mi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Cs(o,m){_n(o),m=mi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function fi(o,m){return _n(o),m=mi(o,m),o.g.has(m)}a.forEach=function(o,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)},a.na=function(){_n(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=o[T];for(let k=0;k<U.length;k++)p.push(m[T])}return p},a.V=function(o){_n(this);let m=[];if(typeof o=="string")fi(this,o)&&(m=m.concat(this.g.get(mi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},a.set=function(o,m){return _n(this),this.i=null,o=mi(this,o),fi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function di(o,m,p){Cs(o,m),0<p.length&&(o.i=null,o.g.set(mi(o,m),tt(p)),o.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var U=k;$[T]!==""&&(U+="="+encodeURIComponent(String($[T]))),o.push(U)}}return this.i=o.join("&")};function mi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function qa(o,m){m&&!o.j&&(_n(o),o.i=null,o.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(Cs(this,T),di(this,U,p))},o)),o.j=m}function fu(o,m){const p=new Gi;if(g.Image){const T=new Image;T.onload=j(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function qr(o,m){const p=new Gi,T=new AbortController,U=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),vn(p,"TestPingServer: error",!1,m)})}function vn(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function jr(){this.g=new Ye}function Gn(o,m,p){const T=p||"";try{Br(o,function(U,k){let $=U;v(U)&&($=Ia(U)),m.push(T+k+"="+encodeURIComponent($))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Wi(o){this.l=o.Ub||null,this.j=o.eb||!1}X(Wi,Na),Wi.prototype.g=function(){return new gi(this.l,this.j)},Wi.prototype.i=function(o){return function(){return o}}({});function gi(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(gi,pe),a=gi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Fn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ja(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ja(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Qn(this):Fn(this),this.readyState==3&&ja(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Qn(this))},a.Qa=function(o){this.g&&(this.response=o,Qn(this))},a.ga=function(){this.g&&Qn(this)};function Qn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Fn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Fn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ha(o){let m="";return ht(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ha(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Bt(o,m,p))}function jt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(jt,pe);var Vs=/^https?$/i,Hr=["POST","PUT"];a=jt.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lr.g(),this.v=this.o?ru(this.o):ru(Lr),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){du(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),U=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Hr,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,$]of p)this.g.setRequestHeader(k,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){du(this,k)}};function du(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Os(o),Kn(o)}function Os(o){o.A||(o.A=!0,we(o,"complete"),we(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,we(this,"complete"),we(this,"abort"),Kn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Is(this):this.bb())},a.bb=function(){Is(this)};function Is(o){if(o.h&&typeof d<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)iu(o.Ea,0,o);else if(we(o,"readystatechange"),En(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var U=String(o.D).match(Ba)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Vs.test(U?U.toLowerCase():"")}p=T}if(p)we(o,"complete"),we(o,"success");else{o.m=6;try{var k=2<En(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Os(o)}}finally{Kn(o)}}}}function Kn(o,m){if(o.g){Gr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||we(o,"ready");try{p.onreadystatechange=T}catch{}}}function Gr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Pn(m)}};function mu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(o){const m={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var p=M(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[U]||[];m[U]=k,k.push(p)}C(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ns(o){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,o),this.cb=Qr("retryDelaySeedMs",1e4,o),this.Wa=Qr("forwardChannelMaxRetries",2,o),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new La(o&&o.concurrentRequestLimit),this.Da=new jr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ns.prototype,a.la=8,a.G=1,a.connect=function(o,m,p,T){ae(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Tu(this,null,this.W),xs(this)};function Ga(o){if(gu(o),o.G==3){var m=o.U++,p=ne(o.I);if(Bt(p,"SID",o.K),Bt(p,"RID",m),Bt(p,"TYPE","terminate"),Fr(o,p),m=new jn(o,o.j,m),m.L=2,m.v=kr(ne(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}Eu(o)}function Ms(o){o.g&&(Kr(o),o.g.cancel(),o.g=null)}function gu(o){Ms(o),o.u&&(g.clearTimeout(o.u),o.u=null),Us(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function xs(o){if(!za(o.h)&&!o.s){o.s=!0;var m=o.Ga;pt||V(),ft||(pt(),ft=!0),qt.add(m,o),o.B=0}}function Sc(o,m){return ou(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Hi(z(o.Ga,o,m),Ka(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new jn(this,this.j,o);let k=this.o;if(this.S&&(k?(k=b(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(U.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=pu(this,U,m),p=ne(this.I),Bt(p,"RID",o),Bt(p,"CVER",22),this.D&&Bt(p,"X-HTTP-Session-Id",this.D),Fr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Ha(k)))+"&"+m:this.m&&Ce(p,this.m,k)),Zi(this.h,U),this.Ua&&Bt(p,"TYPE","init"),this.P?(Bt(p,"$req",m),Bt(p,"SID","null"),U.T=!0,Mn(U,p,null)):Mn(U,p,m),this.G=2}}else this.G==3&&(o?Qa(this,o):this.i.length==0||za(this.h)||Qa(this))};function Qa(o,m){var p;m?p=m.l:p=o.U++;const T=ne(o.I);Bt(T,"SID",o.K),Bt(T,"RID",p),Bt(T,"AID",o.T),Fr(o,T),o.m&&o.o&&Ce(T,o.m,o.o),p=new jn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=pu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Zi(o.h,p),Mn(p,T,m)}function Fr(o,m){o.H&&ht(o.H,function(p,T){Bt(m,T,p)}),o.l&&Br({},function(p,T){Bt(m,T,p)})}function pu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?z(o.l.Na,o.l,o):null;t:{var U=o.i;let k=-1;for(;;){const $=["count="+p];k==-1?0<p?(k=U[0].g,$.push("ofs="+k)):k=0:$.push("ofs="+k);let It=!0;for(let _e=0;_e<p;_e++){let Nt=U[_e].g;const Ve=U[_e].map;if(Nt-=k,0>Nt)k=Math.max(0,U[_e].g-100),It=!1;else try{Gn(Ve,$,"req"+Nt+"_")}catch{T&&T(Ve)}}if(It){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function yu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;pt||V(),ft||(pt(),ft=!0),qt.add(m,o),o.v=0}}function Fa(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Hi(z(o.Fa,o),Ka(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Hi(z(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Ms(this),_u(this))};function Kr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function _u(o){o.g=new jn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ne(o.qa);Bt(m,"RID","rpc"),Bt(m,"SID",o.K),Bt(m,"AID",o.T),Bt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Bt(m,"TO",o.ja),Bt(m,"TYPE","xmlhttp"),Fr(o,m),o.m&&o.o&&Ce(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=kr(ne(m)),p.m=null,p.P=!0,ci(p,o)}a.Za=function(){this.C!=null&&(this.C=null,Ms(this),Fa(this),ae(19))};function Us(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function vu(o,m){var p=null;if(o.g==m){Us(o),Kr(o),o.g=null;var T=2}else if(Xi(o.h,m))p=m.D,pn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=o.B;T=As(),we(T,new au(T,p)),xs(o)}else yu(o);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Sc(o,m)||T==2&&Fa(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),U){case 1:pi(o,5);break;case 4:pi(o,10);break;case 3:pi(o,6);break;default:pi(o,2)}}}function Ka(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function pi(o,m){if(o.j.info("Error code "+m),m==2){var p=z(o.fb,o),T=o.Xa;const U=!T;T=new hi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$i(T,"https"),kr(T),U?fu(T.toString(),p):qr(T.toString(),p)}else ae(2);o.G=0,o.l&&o.l.sa(m),Eu(o),gu(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Eu(o){if(o.G=0,o.ka=[],o.l){const m=Xe(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function Tu(o,m,p){var T=p instanceof hi?ne(p):new hi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Pr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var k=new hi(null);T&&$i(k,T),m&&(k.g=m),U&&Pr(k,U),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&Bt(T,p,m),Bt(T,"VER",o.la),Fr(o,T),T}function Au(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new jt(new Wi({eb:p})):new jt(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}a=Su.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ls(){}Ls.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){pe.call(this),this.g=new Ns(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Yn(this)}X(Ze,pe),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ga(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Ia(o),o=p);m.i.push(new yc(m.Ya++,o)),m.G==3&&xs(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ga(this.g),delete this.g,Ze.aa.N.call(this)};function bu(o){ki.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}X(bu,ki);function Ru(){Nn.call(this),this.status=1}X(Ru,Nn);function Yn(o){this.g=o}X(Yn,Su),Yn.prototype.ua=function(){we(this.g,"a")},Yn.prototype.ta=function(o){we(this.g,new bu(o))},Yn.prototype.sa=function(o){we(this.g,new Ru)},Yn.prototype.ra=function(){we(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,f_=function(){return new Ls},h_=function(){return As()},c_=gn,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Vo=ye,oi.COMPLETE="complete",o_=oi,su.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ul=su,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,u_=jt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const ny="@firebase/firestore",iy="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new e_("@firebase/firestore");function oa(){return ms.logLevel}function rt(a,...e){if(ms.logLevel<=Ut.DEBUG){const i=e.map(Wf);ms.debug(`Firestore (${Sa}): ${a}`,...i)}}function Ui(a,...e){if(ms.logLevel<=Ut.ERROR){const i=e.map(Wf);ms.error(`Firestore (${Sa}): ${a}`,...i)}}function ga(a,...e){if(ms.logLevel<=Ut.WARN){const i=e.map(Wf);ms.warn(`Firestore (${Sa}): ${a}`,...i)}}function Wf(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(a="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+a;throw Ui(e),new Error(e)}function Ht(a,e){a||yt()}function Tt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Aa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class iA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class rA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let s=this.i;const u=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Mi,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Mi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string"),new d_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Qe(e)}}class sA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class aA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new sA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ry{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,PT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ry(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new ry(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=uA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Ot(a,e){return a<e?-1:a>e?1:0}function pa(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-62135596800,ay=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ay);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<sy)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ay}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new be(0,0))}static max(){return new _t(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(),s===void 0?s=e.length-i:s>e.length-i&&yt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=ei.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),u=ei.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?ei.extractNumericId(e).compare(ei.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Zt extends ei{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const oA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ei{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return oA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ly}static keyField(){return new Pe([ly])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ot(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new ot(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Zt.fromString(e))}static fromName(e){return new dt(Zt.fromString(e).popFirst(5))}static empty(){return new dt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function cA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new wr(u,dt.empty(),e)}function hA(a){return new wr(a.readTime,a.key,Ql)}class wr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new wr(_t.min(),dt.empty(),Ql)}static max(){return new wr(_t.max(),dt.empty(),Ql)}}function fA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==dA)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,s)=>{i(e)})}static reject(e){return new Q((i,s)=>{s(e)})}static waitFor(e){return new Q((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>s(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const s of e)i=i.next(u=>u?Q.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new Q((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++g,g===h&&s(d)},S=>u(S))}})}static doWhile(e,i){return new Q((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function gA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ra(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$o.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function Jo(a){return a==null}function Po(a){return a===0&&1/a==-1/0}function pA(a){return typeof a=="number"&&Number.isInteger(a)&&!Po(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="";function yA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=uy(e)),e=_A(a.get(i),e);return uy(e)}function _A(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case g_:i+="";break;default:i+=h}}return i}function uy(a){return a+g_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Nr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function p_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Be(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,i,s,u,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new cy(this.data.getIterator())}getIteratorFrom(e){return new cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new dn([])}unionWith(e){let i=new Re(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new y_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const vA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(Ht(!!a),typeof a=="string"){let e=0;const i=vA.exec(a);if(Ht(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ue(a.seconds),nanos:ue(a.nanos)}}function ue(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Cr(a){return typeof a=="string"?ke.fromBase64String(a):ke.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="server_timestamp",v_="__type__",E_="__previous_value__",T_="__local_write_time__";function ed(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[v_])===null||i===void 0?void 0:i.stringValue)===__}function Wo(a){const e=a.mapValue.fields[E_];return ed(e)?Wo(e):e}function Fl(a){const e=Dr(a.mapValue.fields[T_].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i,s,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const ko="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__type__",TA="__max__",wo={mapValue:{}},S_="__vector__",qo="value";function Vr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ed(a)?4:SA(a)?9007199254740991:AA(a)?10:11:yt()}function ri(a,e){if(a===e)return!0;const i=Vr(a);if(i!==Vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Fl(a).isEqual(Fl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Dr(u.timestampValue),g=Dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,h){return Cr(u.bytesValue).isEqual(Cr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),g=ue(h.doubleValue);return d===g?Po(d)===Po(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return pa(a.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(oy(d)!==oy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ri(d[_],g[_])))return!1;return!0}(a,e);default:return yt()}}function Yl(a,e){return(a.values||[]).find(i=>ri(i,e))!==void 0}function ya(a,e){if(a===e)return 0;const i=Vr(a),s=Vr(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return hy(a.timestampValue,e.timestampValue);case 4:return hy(Fl(a),Fl(e));case 5:return Ot(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Cr(h),_=Cr(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=Ot(g[v],_[v]);if(S!==0)return S}return Ot(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ot(ue(h.latitude),ue(d.latitude));return g!==0?g:Ot(ue(h.longitude),ue(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return fy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,S;const O=h.fields||{},z=d.fields||{},j=(g=O[qo])===null||g===void 0?void 0:g.arrayValue,X=(_=z[qo])===null||_===void 0?void 0:_.arrayValue,tt=Ot(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((S=X==null?void 0:X.values)===null||S===void 0?void 0:S.length)||0);return tt!==0?tt:fy(j,X)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let O=0;O<_.length&&O<S.length;++O){const z=Ot(_[O],S[O]);if(z!==0)return z;const j=ya(g[_[O]],v[S[O]]);if(j!==0)return j}return Ot(_.length,S.length)}(a.mapValue,e.mapValue);default:throw yt()}}function hy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=Dr(a),s=Dr(e),u=Ot(i.seconds,s.seconds);return u!==0?u:Ot(i.nanos,s.nanos)}function fy(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=ya(i[u],s[u]);if(h)return h}return Ot(i.length,s.length)}function _a(a){return Uf(a)}function Uf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Cr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Uf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(a.mapValue):yt()}function Oo(a){switch(Vr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wo(a);return e?16+Oo(e):16;case 5:return 2*a.stringValue.length;case 6:return Cr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Oo(h),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return Nr(s.fields,(h,d)=>{u+=h.length+Oo(d)}),u}(a.mapValue);default:throw yt()}}function Lf(a){return!!a&&"integerValue"in a}function nd(a){return!!a&&"arrayValue"in a}function dy(a){return!!a&&"nullValue"in a}function my(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Io(a){return!!a&&"mapValue"in a}function AA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[A_])===null||i===void 0?void 0:i.stringValue)===S_}function Pl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Nr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Pl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function SA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===TA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Io(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=Pe.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Pl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Io(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Io(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Nr(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new rn(Pl(this.value))}}function b_(a){const e=[];return Nr(a.fields,(i,s)=>{const u=new Pe([i]);if(Io(s)){const h=b_(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,_t.min(),_t.min(),_t.min(),rn.empty(),0)}static newFoundDocument(e,i,s,u){return new Fe(e,1,i,_t.min(),s,u,0)}static newNoDocument(e,i){return new Fe(e,2,i,_t.min(),_t.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,_t.min(),_t.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i){this.position=e,this.inclusive=i}}function gy(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=ya(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function py(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function bA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{}class Se extends R_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new wA(e,i,s):i==="array-contains"?new VA(e,s):i==="in"?new OA(e,s):i==="not-in"?new IA(e,s):i==="array-contains-any"?new NA(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new DA(e,s):new CA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ya(i,this.value)):i!==null&&Vr(this.value)===Vr(i)&&this.matchesComparison(ya(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends R_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new si(e,i)}matches(e){return w_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function w_(a){return a.op==="and"}function D_(a){return RA(a)&&w_(a)}function RA(a){for(const e of a.filters)if(e instanceof si)return!1;return!0}function zf(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+_a(a.value);if(D_(a))return a.filters.map(e=>zf(e)).join(",");{const e=a.filters.map(i=>zf(i)).join(",");return`${a.op}(${e})`}}function C_(a,e){return a instanceof Se?function(s,u){return u instanceof Se&&s.op===u.op&&s.field.isEqual(u.field)&&ri(s.value,u.value)}(a,e):a instanceof si?function(s,u){return u instanceof si&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&C_(d,u.filters[g]),!0):!1}(a,e):void yt()}function V_(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${_a(i.value)}`}(a):a instanceof si?function(i){return i.op.toString()+" {"+i.getFilters().map(V_).join(" ,")+"}"}(a):"Filter"}class wA extends Se{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class DA extends Se{constructor(e,i){super(e,"in",i),this.keys=O_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class CA extends Se{constructor(e,i){super(e,"not-in",i),this.keys=O_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function O_(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>dt.fromName(s.referenceValue))}class VA extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Yl(i.arrayValue,this.value)}}class OA extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class IA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Yl(this.value.arrayValue,i)}}class NA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Yl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function yy(a,e=null,i=[],s=[],u=null,h=null,d=null){return new MA(a,e,i,s,u,h,d)}function id(a){const e=Tt(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>zf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>_a(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>_a(s)).join(",")),e.le=i}return e.le}function rd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!bA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!C_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!py(a.startAt,e.startAt)&&py(a.endAt,e.endAt)}function Bf(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function xA(a,e,i,s,u,h,d,g){return new tc(a,e,i,s,u,h,d,g)}function sd(a){return new tc(a)}function _y(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function UA(a){return a.collectionGroup!==null}function kl(a){const e=Tt(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Ho(h,s))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Ho(Pe.keyField(),s))}return e.he}function ni(a){const e=Tt(a);return e.Pe||(e.Pe=LA(e,kl(a))),e.Pe}function LA(a,e){if(a.limitType==="F")return yy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=a.endAt?new jo(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new jo(a.startAt.position,a.startAt.inclusive):null;return yy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Pf(a,e,i){return new tc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function ec(a,e){return rd(ni(a),ni(e))&&a.limitType===e.limitType}function I_(a){return`${id(ni(a))}|lt:${a.limitType}`}function ca(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>V_(u)).join(", ")}]`),Jo(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>_a(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>_a(u)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function nc(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of kl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,_){const v=gy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,kl(s),u)||s.endAt&&!function(d,g,_){const v=gy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,kl(s),u))}(a,e)}function zA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function N_(a){return(e,i)=>{let s=!1;for(const u of kl(a)){const h=BA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function BA(a,e,i){const s=a.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ya(_,v):yt()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new te(dt.comparator);function Li(){return PA}const M_=new te(dt.comparator);function Ll(...a){let e=M_;for(const i of a)e=e.insert(i.key,i);return e}function x_(a){let e=M_;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ds(){return ql()}function U_(){return ql()}function ql(){return new ps(a=>a.toString(),(a,e)=>a.isEqual(e))}const kA=new te(dt.comparator),qA=new Re(dt.comparator);function Ct(...a){let e=qA;for(const i of a)e=e.add(i);return e}const jA=new Re(Ot);function HA(){return jA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function L_(a){return{integerValue:""+a}}function GA(a,e){return pA(e)?L_(e):ad(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this._=void 0}}function QA(a,e,i){return a instanceof Go?function(u,h){const d={fields:{[v_]:{stringValue:__},[T_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ed(h)&&(h=Wo(h)),h&&(d.fields[E_]=h),{mapValue:d}}(i,e):a instanceof Xl?B_(a,e):a instanceof Zl?P_(a,e):function(u,h){const d=z_(u,h),g=vy(d)+vy(u.Ie);return Lf(d)&&Lf(u.Ie)?L_(g):ad(u.serializer,g)}(a,e)}function FA(a,e,i){return a instanceof Xl?B_(a,e):a instanceof Zl?P_(a,e):i}function z_(a,e){return a instanceof Qo?function(s){return Lf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Go extends ic{}class Xl extends ic{constructor(e){super(),this.elements=e}}function B_(a,e){const i=k_(e);for(const s of a.elements)i.some(u=>ri(u,s))||i.push(s);return{arrayValue:{values:i}}}class Zl extends ic{constructor(e){super(),this.elements=e}}function P_(a,e){let i=k_(e);for(const s of a.elements)i=i.filter(u=>!ri(u,s));return{arrayValue:{values:i}}}class Qo extends ic{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function vy(a){return ue(a.integerValue||a.doubleValue)}function k_(a){return nd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function KA(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof Xl&&u instanceof Xl||s instanceof Zl&&u instanceof Zl?pa(s.elements,u.elements,ri):s instanceof Qo&&u instanceof Qo?ri(s.Ie,u.Ie):s instanceof Go&&u instanceof Go}(a.transform,e.transform)}class YA{constructor(e,i){this.version=e,this.transformResults=i}}class In{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class rc{}function q_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ld(a.key,In.none()):new $l(a.key,a.data,In.none());{const i=a.data,s=rn.empty();let u=new Re(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Mr(a.key,s,new dn(u.toArray()),In.none())}}function XA(a,e,i){a instanceof $l?function(u,h,d){const g=u.value.clone(),_=Ty(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Mr?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Ty(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(j_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function jl(a,e,i,s){return a instanceof $l?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=h.value.clone(),S=Ay(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof Mr?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=Ay(h.fieldTransforms,_,d),S=d.data;return S.setAll(j_(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(O=>O.field))}(a,e,i,s):function(h,d,g){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function ZA(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=z_(s.transform,u||null);h!=null&&(i===null&&(i=rn.empty()),i.set(s.field,h))}return i||null}function Ey(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&pa(s,u,(h,d)=>KA(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class $l extends rc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Mr extends rc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function j_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Ty(a,e,i){const s=new Map;Ht(a.length===i.length);for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,FA(d,g,i[u]))}return s}function Ay(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,QA(h,d,e))}return s}class ld extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $A extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&XA(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=U_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=q_(d,g);_!==null&&s.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(i,s)=>Ey(i,s))&&pa(this.baseMutations,e.baseMutations,(i,s)=>Ey(i,s))}}class ud{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ht(e.mutations.length===s.length);let u=function(){return kA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new ud(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,xt;function eS(a){switch(a){case K.OK:return yt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt()}}function H_(a){if(a===void 0)return Ui("GRPC error has no .code"),K.UNKNOWN;switch(a){case me.OK:return K.OK;case me.CANCELLED:return K.CANCELLED;case me.UNKNOWN:return K.UNKNOWN;case me.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case me.INTERNAL:return K.INTERNAL;case me.UNAVAILABLE:return K.UNAVAILABLE;case me.UNAUTHENTICATED:return K.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case me.NOT_FOUND:return K.NOT_FOUND;case me.ALREADY_EXISTS:return K.ALREADY_EXISTS;case me.PERMISSION_DENIED:return K.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case me.ABORTED:return K.ABORTED;case me.OUT_OF_RANGE:return K.OUT_OF_RANGE;case me.UNIMPLEMENTED:return K.UNIMPLEMENTED;case me.DATA_LOSS:return K.DATA_LOSS;default:return yt()}}(xt=me||(me={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Sr([4294967295,4294967295],0);function Sy(a){const e=nS().encode(a),i=new l_;return i.update(e),new Uint8Array(i.digest())}function by(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Sr([i,s],0),new Sr([u,h],0)]}class od{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Sr.fromNumber(this.Ee)}Ae(e,i,s){let u=e.add(i.multiply(Sr.fromNumber(s)));return u.compare(iS)===1&&(u=new Sr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Sy(e),[s,u]=by(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new od(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Sy(e),[s,u]=by(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new sc(_t.min(),u,new te(Ot),Li(),Ct())}}class Jl{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Jl(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,s,u){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=u}}class G_{constructor(e,i){this.targetId=e,this.ge=i}}class Q_{constructor(e,i,s=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Ry{constructor(){this.pe=0,this.ye=wy(),this.we=ke.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ct(),i=Ct(),s=Ct();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:yt()}}),new Jl(this.we,this.be,e,i,s)}Me(){this.Se=!1,this.ye=wy()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class rS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.$e=Do(),this.Ke=Do(),this.Ue=new te(Ot)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,s=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Bf(h))if(s===0){const d=new dt(h.path);this.ze(i,d,Fe.newNoDocument(d,_t.min()))}else Ht(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Cr(s).toUint8Array()}catch(_){if(_ instanceof y_)return ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new od(d,u,h)}catch(_){return ga(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Bf(g.target)){const _=new dt(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Fe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Ct();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ue,this.Qe,s);return this.Qe=Li(),this.$e=Do(),this.Ke=Do(),this.Ue=new te(Ot),u}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ry,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Re(Ot),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Ot),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ry),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Do(){return new te(dt.comparator)}function wy(){return new te(dt.comparator)}const sS={asc:"ASCENDING",desc:"DESCENDING"},aS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lS={and:"AND",or:"OR"};class uS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kf(a,e){return a.useProto3Json||Jo(e)?e:{value:e}}function Fo(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function oS(a,e){return Fo(a,e.toTimestamp())}function ii(a){return Ht(!!a),_t.fromTimestamp(function(i){const s=Dr(i);return new be(s.seconds,s.nanos)}(a))}function cd(a,e){return qf(a,e).canonicalString()}function qf(a,e){const i=function(u){return new Zt(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function K_(a){const e=Zt.fromString(a);return Ht(J_(e)),e}function jf(a,e){return cd(a.databaseId,e.path)}function bf(a,e){const i=K_(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(X_(i))}function Y_(a,e){return cd(a.databaseId,e)}function cS(a){const e=K_(a);return e.length===4?Zt.emptyPath():X_(e)}function Hf(a){return new Zt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function X_(a){return Ht(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Dy(a,e,i){return{name:jf(a,e),fields:i.value.mapValue.fields}}function hS(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(Ht(S===void 0||typeof S=="string"),ke.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array),ke.fromUint8Array(S||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=v.code===void 0?K.UNKNOWN:H_(v.code);return new ot(S,v.message||"")}(d);i=new Q_(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=bf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):_t.min(),g=new rn({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(u,h,d,g),v=s.targetIds||[],S=s.removedTargetIds||[];i=new Mo(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=bf(a,s.document),h=s.readTime?ii(s.readTime):_t.min(),d=Fe.newNoDocument(u,h),g=s.removedTargetIds||[];i=new Mo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=bf(a,s.document),h=s.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return yt();{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new tS(u,h),g=s.targetId;i=new G_(g,d)}}return i}function fS(a,e){let i;if(e instanceof $l)i={update:Dy(a,e.key,e.value)};else if(e instanceof ld)i={delete:jf(a,e.key)};else if(e instanceof Mr)i={update:Dy(a,e.key,e.data),updateMask:TS(e.fieldMask)};else{if(!(e instanceof $A))return yt();i={verify:jf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw yt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:oS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt()}(a,e.precondition)),i}function dS(a,e){return a&&a.length>0?(Ht(e!==void 0),a.map(i=>function(u,h){let d=u.updateTime?ii(u.updateTime):ii(h);return d.isEqual(_t.min())&&(d=ii(h)),new YA(d,u.transformResults||[])}(i,e))):[]}function mS(a,e){return{documents:[Y_(a,e.path)]}}function gS(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Y_(a,u);const h=function(v){if(v.length!==0)return $_(si.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(z){return{field:ha(z.field),direction:_S(z.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=kf(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function pS(a){let e=cS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ht(s===1);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(O){const z=Z_(O);return z instanceof si&&D_(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(O){return O.map(z=>function(X){return new Ho(fa(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(O){let z;return z=typeof O=="object"?O.value:O,Jo(z)?null:z}(i.limit));let _=null;i.startAt&&(_=function(O){const z=!!O.before,j=O.values||[];return new jo(j,z)}(i.startAt));let v=null;return i.endAt&&(v=function(O){const z=!O.before,j=O.values||[];return new jo(j,z)}(i.endAt)),xA(e,u,d,h,g,"F",_,v)}function yS(a,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Z_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=fa(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=fa(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=fa(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fa(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(fa(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return si.create(i.compositeFilter.filters.map(s=>Z_(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(a):yt()}function _S(a){return sS[a]}function vS(a){return aS[a]}function ES(a){return lS[a]}function ha(a){return{fieldPath:a.canonicalString()}}function fa(a){return Pe.fromServerFormat(a.fieldPath)}function $_(a){return a instanceof Se?function(i){if(i.op==="=="){if(my(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NAN"}};if(dy(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(my(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NAN"}};if(dy(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(i.field),op:vS(i.op),value:i.value}}}(a):a instanceof si?function(i){const s=i.getFilters().map(u=>$_(u));return s.length===1?s[0]:{compositeFilter:{op:ES(i.op),filters:s}}}(a):yt()}function TS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function J_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,i,s,u,h=_t.min(),d=_t.min(),g=ke.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.Tt=e}}function SS(a){const e=pS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.Tn=new RS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(wr.min())}updateCollectionGroup(e,i,s){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class RS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Re(Zt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Re(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W_=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(W_,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new va(0)}static Un(){return new va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LruGarbageCollector",wS=1048576;function Oy([a,e],[i,s]){const u=Ot(a,i);return u===0?Ot(e,s):u}class DS{constructor(e){this.Hn=e,this.buffer=new Re(Oy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Oy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){rt(Vy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ra(i)?rt(Vy,"Ignoring IndexedDB error during garbage collection: ",i):await ba(i)}await this.er(3e5)})}}class VS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Q.resolve($o.ae);const s=new DS(i);return this.tr.forEachTarget(e,u=>s.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>s.Zn(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Cy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,u,h,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),u=this.params.maximumSequenceNumbersToCollect):u=O,d=Date.now(),this.nthSequenceNumber(e,u))).next(O=>(s=O,g=Date.now(),this.removeTargets(e,s,i))).next(O=>(h=O,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(O=>(v=Date.now(),oa()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${O} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:O})))}}function OS(a,e){return new VS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.changes=new ps(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Q.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&jl(s.mutation,u,dn.empty(),be.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ct()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ct()){const u=ds();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=Ll();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ds();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ct()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=Li();const d=ql(),g=function(){return ql()}();return i.forEach((_,v)=>{const S=s.get(v.key);u.has(v.key)&&(S===void 0||S.mutation instanceof Mr)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),jl(S.mutation,v,S.mutation.getFieldMask(),be.now())):d.set(v.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var O;return g.set(v,new NS(S,(O=d.get(v))!==null&&O!==void 0?O:null))}),g))}recalculateAndSaveOverlays(e,i){const s=ql();let u=new te((d,g)=>d-g),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=s.get(_)||dn.empty();S=g.applyToLocalView(v,S),s.set(_,S);const O=(u.get(g.batchId)||Ct()).add(_);u=u.insert(g.batchId,O)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,O=U_();S.forEach(z=>{if(!h.has(z)){const j=q_(i.get(z),s.get(z));j!==null&&O.set(z,j),h=h.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,O))}return Q.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):UA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Q.resolve(ds());let g=Ql,_=h;return d.next(v=>Q.forEach(v,(S,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),h.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(z=>{_=_.insert(S,z)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(S=>({batchId:g,changes:x_(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(s=>{let u=Ll();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(O,z){return new tc(z,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,u).next(S=>{S.forEach((O,z)=>{d=d.insert(O,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Fe.newInvalidDocument(S)))});let g=Ll();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&jl(S.mutation,v,dn.empty(),be.now()),nc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ii(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:SS(u.bundledQuery),readTime:ii(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.overlays=new te(dt.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ds();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Rr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(e,i,s){const u=ds(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new te((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let S=h.get(v.largestBatchId);S===null&&(S=ds(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=ds(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(s.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new WA(i,s));let h=this.Rr.get(i);h===void 0&&(h=Ct(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.Vr=new Re(Me.mr),this.gr=new Re(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}br(e,i){e.forEach(s=>this.removeReference(s,i))}Sr(e){const i=new dt(new Zt([])),s=new Me(i,e),u=new Me(i,e+1),h=[];return this.gr.forEachInRange([s,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new dt(new Zt([])),s=new Me(i,e),u=new Me(i,e+1);let h=Ct();return this.gr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return dt.comparator(e.key,i.key)||Ot(e.Cr,i.Cr)}static pr(e,i){return Ot(e.Cr,i.Cr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Me.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new JA(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Nr(s),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?td:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Ot);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new dt(h),0);let g=new Re(Ot);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const u=this.Or(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),u=this.Mr.firstAfterOrEqual(s);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.kr=e,this.docs=function(){return new te(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Q.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Li();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Fe.newInvalidDocument(u))}),Q.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Li();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||fA(hA(S),s)<=0||(u.has(S.key)||nc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,s,u){yt()}qr(e,i){return Q.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new PS(this)}getSize(e){return Q.resolve(this.size)}}class PS extends IS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(s)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.persistence=e,this.Qr=new ps(i=>id(i),rd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Kr=new hd,this.targetCount=0,this.Ur=va.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new va(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return Q.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),Q.resolve()}removeMatchingKeys(e,i,s){this.Kr.br(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return Q.resolve(s)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new $o(0),this.zr=!1,this.zr=!0,this.jr=new LS,this.referenceDelegate=e(this),this.Hr=new kS(this),this.indexManager=new bS,this.remoteDocumentCache=function(u){return new BS(u)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new AS(i),this.Yr=new xS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new US,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new zS(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const u=new qS(this.Gr.next());return this.referenceDelegate.Zr(),s(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class qS extends mA{constructor(e){super(),this.currentSequenceNumber=e}}class fd{constructor(e){this.persistence=e,this.ti=new hd,this.ni=null}static ri(e){return new fd(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Q.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(u=>this.ii.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const u=dt.fromPath(s);return this.si(e,u).next(h=>{h||i.removeEntry(u,_t.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ko{constructor(e,i){this.persistence=e,this.oi=new ps(s=>yA(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=OS(this,i)}static ri(e,i){return new Ko(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(s,u)=>this.ar(e,s,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oo(e.data.value)),i}ar(e,i,s){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=u}static Yi(e,i){let s=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new dd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return L0()?8:gA(x0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new jS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,u){return s.documentReadCount<this.es?(oa()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(oa()<=Ut.DEBUG&&rt("QueryEngine","Query:",ca(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ts*u?(oa()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):Q.resolve())}rs(e,i){if(_y(i))return Q.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Pf(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Ct(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Pf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,s,u){return _y(i)||u.isEqual(_t.min())?Q.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,u)?Q.resolve(null):(oa()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ca(i)),this.hs(e,d,i,cA(u,Ql)).next(g=>g))})}cs(e,i){let s=new Re(N_(e));return i.forEach((u,h)=>{nc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,s){return oa()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ca(i)),this.ns.getDocumentsMatchingQuery(e,i,wr.min(),s)}hs(e,i,s,u){return this.ns.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="LocalStore",GS=3e8;class QS{constructor(e,i,s,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new te(Ot),this.Is=new ps(h=>id(h),rd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function FS(a,e,i,s){return new QS(a,e,i,s)}async function ev(a,e){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function KS(a,e){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,S){const O=v.batch,z=O.keys();let j=Q.resolve();return z.forEach(X=>{j=j.next(()=>S.getEntry(_,X)).next(tt=>{const Z=v.docVersions.get(X);Ht(Z!==null),tt.version.compareTo(Z)<0&&(O.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),S.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,O))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function nv(a){const e=Tt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function YS(a,e){const i=Tt(a),s=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((S,O)=>{const z=u.get(O);if(!z)return;g.push(i.Hr.removeMatchingKeys(h,S.removedDocuments,O).next(()=>i.Hr.addMatchingKeys(h,S.addedDocuments,O)));let j=z.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?j=j.withResumeToken(ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,s)),u=u.insert(O,j),function(tt,Z,vt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=GS?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0}(z,j,S)&&g.push(i.Hr.updateTargetData(h,j))});let _=Li(),v=Ct();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(XS(h,d,e.documentUpdates).next(S=>{_=S.Vs,v=S.fs})),!s.isEqual(_t.min())){const S=i.Hr.getLastRemoteSnapshotVersion(h).next(O=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(S)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function XS(a,e,i){let s=Ct(),u=Ct();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Li();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):rt(md,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function ZS(a,e){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=td),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $S(a,e){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Hr.getTargetData(s,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(s).next(d=>(u=new Er(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ts.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Gf(a,e,i){const s=Tt(a),u=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ra(d))throw d;rt(md,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(u.target)}function Iy(a,e,i){const s=Tt(a);let u=_t.min(),h=Ct();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const O=Tt(_),z=O.Is.get(S);return z!==void 0?Q.resolve(O.Ts.get(z)):O.Hr.getTargetData(v,S)}(s,d,ni(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:Ct())).next(g=>(JS(s,zA(e),g),{documents:g,gs:h})))}function JS(a,e,i){let s=a.Es.get(e)||_t.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class Ny{constructor(){this.activeTargetIds=HA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WS{constructor(){this.ho=new Ny,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ny,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="ConnectivityMonitor";class xy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){rt(My,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){rt(My,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=null;function Qf(){return Co===null?Co=function(){return 268435456+Math.round(2147483648*Math.random())}():Co++,"0x"+Co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",e1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${u}`,this.wo=this.databaseId.database===ko?`project_id=${s}`:`project_id=${s}&database_id=${u}`}bo(e,i,s,u,h){const d=Qf(),g=this.So(e,i.toUriEncodedString());rt(Rf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,s).then(v=>(rt(Rf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ga(Rf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(e,i,s,u,h,d){return this.bo(e,i,s,u,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}So(e,i){const s=e1[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class r1 extends n1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,u){const h=Qf();return new Promise((d,g)=>{const _=new u_;_.setWithCredentials(!0),_.listenOnce(o_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const S=_.getResponseJson();rt(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case Vo.TIMEOUT:rt(Ge,`RPC '${e}' ${h} timed out`),g(new ot(K.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const O=_.getStatus();if(rt(Ge,`RPC '${e}' ${h} failed with status:`,O,"response text:",_.getResponseText()),O>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const j=z==null?void 0:z.error;if(j&&j.status&&j.message){const X=function(Z){const vt=Z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(vt)>=0?vt:K.UNKNOWN}(j.status);g(new ot(X,j.message))}else g(new ot(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ot(K.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{rt(Ge,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);rt(Ge,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,s,15)})}Wo(e,i,s){const u=Qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=f_(),g=h_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const S=h.join("");rt(Ge,`Creating RPC '${e}' stream ${u}: ${S}`,_);const O=d.createWebChannel(S,_);let z=!1,j=!1;const X=new i1({Fo:Z=>{j?rt(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(z||(rt(Ge,`Opening RPC '${e}' stream ${u} transport.`),O.open(),z=!0),rt(Ge,`RPC '${e}' stream ${u} sending:`,Z),O.send(Z))},Mo:()=>O.close()}),tt=(Z,vt,gt)=>{Z.listen(vt,et=>{try{gt(et)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return tt(O,Ul.EventType.OPEN,()=>{j||(rt(Ge,`RPC '${e}' stream ${u} transport opened.`),X.Qo())}),tt(O,Ul.EventType.CLOSE,()=>{j||(j=!0,rt(Ge,`RPC '${e}' stream ${u} transport closed`),X.Ko())}),tt(O,Ul.EventType.ERROR,Z=>{j||(j=!0,ga(Ge,`RPC '${e}' stream ${u} transport errored:`,Z),X.Ko(new ot(K.UNAVAILABLE,"The operation could not be completed")))}),tt(O,Ul.EventType.MESSAGE,Z=>{var vt;if(!j){const gt=Z.data[0];Ht(!!gt);const et=gt,Lt=(et==null?void 0:et.error)||((vt=et[0])===null||vt===void 0?void 0:vt.error);if(Lt){rt(Ge,`RPC '${e}' stream ${u} received error:`,Lt);const lt=Lt.status;let ht=function(A){const D=me[A];if(D!==void 0)return H_(D)}(lt),C=Lt.message;ht===void 0&&(ht=K.INTERNAL,C="Unknown error status: "+lt+" with message "+Lt.message),j=!0,X.Ko(new ot(ht,C)),O.close()}else rt(Ge,`RPC '${e}' stream ${u} received:`,gt),X.Uo(gt)}}),tt(g,c_.STAT_EVENT,Z=>{Z.stat===xf.PROXY?rt(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===xf.NOPROXY&&rt(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(a){return new uS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-s);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="PersistentStream";class rv{constructor(e,i,s,u,h,d,g,_){this.Ti=e,this.n_=s,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.i_===i&&this.V_(s,u)},s=>{e(()=>{const u=new ot(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(u)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{s(()=>this.m_(u))}),this.stream.onMessage(u=>{s(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return rt(Uy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(rt(Uy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s1 extends rv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=hS(this.serializer,e),s=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ii(d.readTime):_t.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Hf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Bf(_)?{documents:mS(h,_)}:{query:gS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=F_(h,d.resumeToken);const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Fo(h,d.snapshotVersion.toTimestamp());const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=yS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Hf(this.serializer),i.removeTarget=e,this.I_(i)}}class a1 extends rv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=dS(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Hf(this.serializer),this.I_(e)}S_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>fS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{}class u1 extends l1{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.bo(e,qf(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(K.UNKNOWN,h.toString())})}Co(e,i,s,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,qf(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class o1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(i),this.N_=!1):rt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class c1{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{ys(this)&&(rt(gs,"Restarting streams for network reachability change."),await async function(_){const v=Tt(_);v.W_.add(4),await Wl(v),v.j_.set("Unknown"),v.W_.delete(4),await lc(v)}(this))})}),this.j_=new o1(s,u)}}async function lc(a){if(ys(a))for(const e of a.G_)await e(!0)}async function Wl(a){for(const e of a.G_)await e(!1)}function sv(a,e){const i=Tt(a);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),_d(i)?yd(i):wa(i).c_()&&pd(i,e))}function gd(a,e){const i=Tt(a),s=wa(i);i.U_.delete(e),s.c_()&&av(i,e),i.U_.size===0&&(s.c_()?s.P_():ys(i)&&i.j_.set("Unknown"))}function pd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wa(a).y_(e)}function av(a,e){a.H_.Ne(e),wa(a).w_(e)}function yd(a){a.H_=new rS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.U_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),wa(a).start(),a.j_.B_()}function _d(a){return ys(a)&&!wa(a).u_()&&a.U_.size>0}function ys(a){return Tt(a).W_.size===0}function lv(a){a.H_=void 0}async function h1(a){a.j_.set("Online")}async function f1(a){a.U_.forEach((e,i)=>{pd(a,e)})}async function d1(a,e){lv(a),_d(a)?(a.j_.q_(e),yd(a)):a.j_.set("Unknown")}async function m1(a,e,i){if(a.j_.set("Online"),e instanceof Q_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.U_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.U_.delete(g),u.H_.removeTarget(g))}(a,e)}catch(s){rt(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yo(a,s)}else if(e instanceof Mo?a.H_.We(e):e instanceof G_?a.H_.Ze(e):a.H_.je(e),!i.isEqual(_t.min()))try{const s=await nv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.U_.get(v);S&&h.U_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=h.U_.get(_);if(!S)return;h.U_.set(_,S.withResumeToken(ke.EMPTY_BYTE_STRING,S.snapshotVersion)),av(h,_);const O=new Er(S.target,_,v,S.sequenceNumber);pd(h,O)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){rt(gs,"Failed to raise snapshot:",s),await Yo(a,s)}}async function Yo(a,e,i){if(!Ra(e))throw e;a.W_.add(1),await Wl(a),a.j_.set("Offline"),i||(i=()=>nv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{rt(gs,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await lc(a)})}function uv(a,e){return e().catch(i=>Yo(a,i,e))}async function uc(a){const e=Tt(a),i=Or(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:td;for(;g1(e);)try{const u=await ZS(e.localStore,s);if(u===null){e.K_.length===0&&i.P_();break}s=u.batchId,p1(e,u)}catch(u){await Yo(e,u)}ov(e)&&cv(e)}function g1(a){return ys(a)&&a.K_.length<10}function p1(a,e){a.K_.push(e);const i=Or(a);i.c_()&&i.b_&&i.S_(e.mutations)}function ov(a){return ys(a)&&!Or(a).u_()&&a.K_.length>0}function cv(a){Or(a).start()}async function y1(a){Or(a).C_()}async function _1(a){const e=Or(a);for(const i of a.K_)e.S_(i.mutations)}async function v1(a,e,i){const s=a.K_.shift(),u=ud.from(s,e,i);await uv(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await uc(a)}async function E1(a,e){e&&Or(a).b_&&await async function(s,u){if(function(d){return eS(d)&&d!==K.ABORTED}(u.code)){const h=s.K_.shift();Or(s).h_(),await uv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await uc(s)}}(a,e),ov(a)&&cv(a)}async function Ly(a,e){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),rt(gs,"RemoteStore received new credentials");const s=ys(i);i.W_.add(3),await Wl(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await lc(i)}async function T1(a,e){const i=Tt(a);e?(i.W_.delete(2),await lc(i)):e||(i.W_.add(2),await Wl(i),i.j_.set("Unknown"))}function wa(a){return a.J_||(a.J_=function(i,s,u){const h=Tt(i);return h.M_(),new s1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{xo:h1.bind(null,a),No:f1.bind(null,a),Lo:d1.bind(null,a),p_:m1.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),_d(a)?yd(a):a.j_.set("Unknown")):(await a.J_.stop(),lv(a))})),a.J_}function Or(a){return a.Y_||(a.Y_=function(i,s,u){const h=Tt(i);return h.M_(),new a1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:y1.bind(null,a),Lo:E1.bind(null,a),D_:_1.bind(null,a),v_:v1.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await uc(a)):(await a.Y_.stop(),a.K_.length>0&&(rt(gs,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new vd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ed(a,e){if(Ui("AsyncQueue",`${e}: ${a}`),Ra(a))return new ot(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Ll(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ma;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.Z_=new te(dt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ea{constructor(e,i,s,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ea(e,i,ma.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class S1{constructor(){this.queries=By(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const u=Tt(i),h=u.queries;u.queries=By(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new ot(K.ABORTED,"Firestore shutting down"))}}function By(){return new ps(a=>I_(a),ec)}async function hv(a,e){const i=Tt(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(s=2):(h=new A1,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Ed(d,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Td(i)}async function fv(a,e){const i=Tt(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function b1(a,e){const i=Tt(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(s=!0);d.ea=u}}s&&Td(i)}function R1(a,e,i){const s=Tt(a),u=s.queries.get(e);if(u)for(const h of u.ta)h.onError(i);s.queries.delete(e)}function Td(a){a.ia.forEach(e=>{e.next()})}var Ff,Py;(Py=Ff||(Ff={}))._a="default",Py.Cache="cache";class dv{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Ea(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.key=e}}class gv{constructor(e){this.key=e}}class w1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=N_(e),this.wa=new ma(this.ya)}get ba(){return this.fa}Sa(e,i){const s=i?i.Da:new zy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((S,O)=>{const z=u.get(S),j=nc(this.query,O)?O:null,X=!!z&&this.mutatedKeys.has(z.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;z&&j?z.data.isEqual(j.data)?X!==tt&&(s.track({type:3,doc:j}),Z=!0):this.va(z,j)||(s.track({type:2,doc:j}),Z=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(g=!0)):!z&&j?(s.track({type:0,doc:j}),Z=!0):z&&!j&&(s.track({type:1,doc:z}),Z=!0,(_||v)&&(g=!0)),Z&&(j?(d=d.add(j),h=tt?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((S,O)=>function(j,X){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return tt(j)-tt(X)}(S.type,O.type)||this.ya(S.doc,O.doc)),this.Ca(s),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Ea(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new gv(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new mv(s))}),i}Oa(e){this.fa=e.gs,this.pa=Ct();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return Ea.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ad="SyncEngine";class D1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class C1{constructor(e){this.key=e,this.Ba=!1}}class V1{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ps(g=>I_(g),ec),this.qa=new Map,this.Qa=new Set,this.$a=new te(dt.comparator),this.Ka=new Map,this.Ua=new hd,this.Wa={},this.Ga=new Map,this.za=va.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function O1(a,e,i=!0){const s=Tv(a);let u;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await pv(s,e,i,!0),u}async function I1(a,e){const i=Tv(a);await pv(i,e,!0,!1)}async function pv(a,e,i,s){const u=await $S(a.localStore,ni(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await N1(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&sv(a.remoteStore,u),g}async function N1(a,e,i,s,u){a.Ha=(O,z,j)=>async function(tt,Z,vt,gt){let et=Z.view.Sa(vt);et.ls&&(et=await Iy(tt.localStore,Z.query,!1).then(({documents:C})=>Z.view.Sa(C,et)));const Lt=gt&&gt.targetChanges.get(Z.targetId),lt=gt&&gt.targetMismatches.get(Z.targetId)!=null,ht=Z.view.applyChanges(et,tt.isPrimaryClient,Lt,lt);return qy(tt,Z.targetId,ht.Ma),ht.snapshot}(a,O,z,j);const h=await Iy(a.localStore,e,!0),d=new w1(e,h.gs),g=d.Sa(h.documents),_=Jl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),v=d.applyChanges(g,a.isPrimaryClient,_);qy(a,i,v.Ma);const S=new D1(e,i,d);return a.ka.set(e,S),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),v.snapshot}async function M1(a,e,i){const s=Tt(a),u=s.ka.get(e),h=s.qa.get(u.targetId);if(h.length>1)return s.qa.set(u.targetId,h.filter(d=>!ec(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&gd(s.remoteStore,u.targetId),Kf(s,u.targetId)}).catch(ba)):(Kf(s,u.targetId),await Gf(s.localStore,u.targetId,!0))}async function x1(a,e){const i=Tt(a),s=i.ka.get(e),u=i.qa.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),gd(i.remoteStore,s.targetId))}async function U1(a,e,i){const s=j1(a);try{const u=await function(d,g){const _=Tt(d),v=be.now(),S=g.reduce((j,X)=>j.add(X.key),Ct());let O,z;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=Li(),tt=Ct();return _.ds.getEntries(j,S).next(Z=>{X=Z,X.forEach((vt,gt)=>{gt.isValidDocument()||(tt=tt.add(vt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,X)).next(Z=>{O=Z;const vt=[];for(const gt of g){const et=ZA(gt,O.get(gt.key).overlayedDocument);et!=null&&vt.push(new Mr(gt.key,et,b_(et.value.mapValue),In.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,vt,g)}).next(Z=>{z=Z;const vt=Z.applyToLocalDocumentSet(O,tt);return _.documentOverlayCache.saveOverlays(j,Z.batchId,vt)})}).then(()=>({batchId:z.batchId,changes:x_(O)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new te(Ot)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(s,u.batchId,i),await tu(s,u.changes),await uc(s.remoteStore)}catch(u){const h=Ed(u,"Failed to persist write");i.reject(h)}}async function yv(a,e){const i=Tt(a);try{const s=await YS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Ht(d.Ba):u.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await tu(i,s,e)}catch(s){await ba(s)}}function ky(a,e,i){const s=Tt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=Tt(d);_.onlineState=g;let v=!1;_.queries.forEach((S,O)=>{for(const z of O.ta)z.sa(g)&&(v=!0)}),v&&Td(_)}(s.eventManager,e),u.length&&s.La.p_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function L1(a,e,i){const s=Tt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Ka.get(e),h=u&&u.key;if(h){let d=new te(dt.comparator);d=d.insert(h,Fe.newNoDocument(h,_t.min()));const g=Ct().add(h),_=new sc(_t.min(),new Map,new te(Ot),d,g);await yv(s,_),s.$a=s.$a.remove(h),s.Ka.delete(e),Sd(s)}else await Gf(s.localStore,e,!1).then(()=>Kf(s,e,i)).catch(ba)}async function z1(a,e){const i=Tt(a),s=e.batch.batchId;try{const u=await KS(i.localStore,e);vv(i,s,null),_v(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await tu(i,u)}catch(u){await ba(u)}}async function B1(a,e,i){const s=Tt(a);try{const u=await function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next(O=>(Ht(O!==null),S=O.keys(),_.mutationQueue.removeMutationBatch(v,O))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(s.localStore,e);vv(s,e,i),_v(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await tu(s,u)}catch(u){await ba(u)}}function _v(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function vv(a,e,i){const s=Tt(a);let u=s.Wa[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Wa[s.currentUser.toKey()]=u}}function Kf(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ua.Sr(e).forEach(s=>{a.Ua.containsKey(s)||Ev(a,s)})}function Ev(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(gd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ka.delete(i),Sd(a))}function qy(a,e,i){for(const s of i)s instanceof mv?(a.Ua.addReference(s.key,e),P1(a,s)):s instanceof gv?(rt(Ad,"Document no longer in limbo: "+s.key),a.Ua.removeReference(s.key,e),a.Ua.containsKey(s.key)||Ev(a,s.key)):yt()}function P1(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(rt(Ad,"New document in limbo: "+i),a.Qa.add(s),Sd(a))}function Sd(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new dt(Zt.fromString(e)),s=a.za.next();a.Ka.set(s,new C1(i)),a.$a=a.$a.insert(i,s),sv(a.remoteStore,new Er(ni(sd(i.path)),s,"TargetPurposeLimboResolution",$o.ae))}}async function tu(a,e,i){const s=Tt(a),u=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,e,i).then(v=>{var S;if((v||i)&&s.isPrimaryClient){const O=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(_.targetId,O?"current":"not-current")}if(v){u.push(v);const O=dd.Yi(_.targetId,v);h.push(O)}}))}),await Promise.all(d),s.La.p_(u),await async function(_,v){const S=Tt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Q.forEach(v,z=>Q.forEach(z.Hi,j=>S.persistence.referenceDelegate.addReference(O,z.targetId,j)).next(()=>Q.forEach(z.Ji,j=>S.persistence.referenceDelegate.removeReference(O,z.targetId,j)))))}catch(O){if(!Ra(O))throw O;rt(md,"Failed to update sequence numbers: "+O)}for(const O of v){const z=O.targetId;if(!O.fromCache){const j=S.Ts.get(z),X=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion(X);S.Ts=S.Ts.insert(z,tt)}}}(s.localStore,h))}async function k1(a,e){const i=Tt(a);if(!i.currentUser.isEqual(e)){rt(Ad,"User change. New user:",e.toKey());const s=await ev(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ot(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tu(i,s.Rs)}}function q1(a,e){const i=Tt(a),s=i.Ka.get(e);if(s&&s.Ba)return Ct().add(s.key);{let u=Ct();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.ba)}return u}}function Tv(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L1.bind(null,e),e.La.p_=b1.bind(null,e.eventManager),e.La.Ja=R1.bind(null,e.eventManager),e}function j1(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B1.bind(null,e),e}class Xo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return FS(this.persistence,new HS,e.initialUser,this.serializer)}Xa(e){return new tv(fd.ri,this.serializer)}Za(e){return new WS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xo.provider={build:()=>new Xo};class H1 extends Xo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ht(this.persistence.referenceDelegate instanceof Ko);const s=this.persistence.referenceDelegate.garbageCollector;return new CS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new tv(s=>Ko.ri(s,i),this.serializer)}}class Yf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ky(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=k1.bind(null,this.syncEngine),await T1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S1}()}createDatastore(e){const i=ac(e.databaseInfo.databaseId),s=function(h){return new r1(h)}(e.databaseInfo);return function(h,d,g,_){return new u1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new c1(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>ky(this.syncEngine,i,0),function(){return xy.D()?new xy:new t1}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,S){const O=new V1(u,h,d,g,_,v);return S&&(O.ja=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Tt(u);rt(gs,"RemoteStore shutting down."),h.W_.add(5),await Wl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Yf.provider={build:()=>new Yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class G1{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=m_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{rt(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ed(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Df(a,e){a.asyncQueue.verifyOperationInProgress(),rt(Ir,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await ev(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function jy(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Q1(a);rt(Ir,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Ly(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>Ly(e.remoteStore,u)),a._onlineComponents=e}async function Q1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(Ir,"Using user provided OfflineComponentProvider");try{await Df(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ga("Error using user provided cache. Falling back to memory cache: "+i),await Df(a,new Xo)}}else rt(Ir,"Using default OfflineComponentProvider"),await Df(a,new H1(void 0));return a._offlineComponents}async function Sv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(Ir,"Using user provided OnlineComponentProvider"),await jy(a,a._uninitializedComponentsProvider._online)):(rt(Ir,"Using default OnlineComponentProvider"),await jy(a,new Yf))),a._onlineComponents}function F1(a){return Sv(a).then(e=>e.syncEngine)}async function bv(a){const e=await Sv(a),i=e.eventManager;return i.onListen=O1.bind(null,e.syncEngine),i.onUnlisten=M1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=I1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=x1.bind(null,e.syncEngine),i}function K1(a,e,i={}){const s=new Mi;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const S=new Av({next:z=>{S.su(),d.enqueueAndForget(()=>fv(h,O));const j=z.docs.has(g);!j&&z.fromCache?v.reject(new ot(K.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&z.fromCache&&_&&_.source==="server"?v.reject(new ot(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(z)},error:z=>v.reject(z)}),O=new dv(sd(g.path),S,{includeMetadataChanges:!0,Ta:!0});return hv(h,O)}(await bv(a),a.asyncQueue,e,i,s)),s.promise}function Y1(a,e,i={}){const s=new Mi;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const S=new Av({next:z=>{S.su(),d.enqueueAndForget(()=>fv(h,O)),z.fromCache&&_.source==="server"?v.reject(new ot(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),O=new dv(g,S,{includeMetadataChanges:!0,Ta:!0});return hv(h,O)}(await bv(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(a,e,i){if(!i)throw new ot(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function X1(a,e,i,s){if(e===!0&&s===!0)throw new ot(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Gy(a){if(!dt.isDocumentKey(a))throw new ot(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Qy(a){if(dt.isDocumentKey(a))throw new ot(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function bd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":yt()}function Bn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bd(a);throw new ot(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="firestore.googleapis.com",Fy=!0;class Ky{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dv,this.ssl=Fy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Fy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wS)throw new ot(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ky({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ky(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new nA;switch(s.type){case"firstParty":return new aA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Hy.get(i);s&&(rt("ComponentProvider","Removing Datastore"),Hy.delete(i),s.terminate())}(this),Promise.resolve()}}function Z1(a,e,i,s={}){var u;const h=(a=Bn(a,oc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==Dv&&h.host!==g&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!Lo(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=Qe.MOCK_USER;else{v=M0(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new ot(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Qe(O)}a._authCredentials=new iA(new d_(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class sn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class br extends cc{constructor(e,i,s){super(e,i,sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new dt(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Cv(a,e,...i){if(a=Rr(a),wv("collection","path",e),a instanceof oc){const s=Zt.fromString(e,...i);return Qy(s),new br(a,null,s)}{if(!(a instanceof sn||a instanceof br))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return Qy(s),new br(a.firestore,null,s)}}function eu(a,e,...i){if(a=Rr(a),arguments.length===1&&(e=m_.newId()),wv("doc","path",e),a instanceof oc){const s=Zt.fromString(e,...i);return Gy(s),new sn(a,null,new dt(s))}{if(!(a instanceof sn||a instanceof br))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return Gy(s),new sn(a.firestore,a instanceof br?a.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="AsyncQueue";class Xy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iv(this,"async_queue_retry"),this.bu=()=>{const s=wf();s&&rt(Yy,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const i=wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Mi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ra(e))throw e;rt(Yy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Ui("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.pu=!1,s))));return this.Su=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=vd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class _s extends oc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new Xy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xy(e),this._firestoreClient=void 0,await e}}}function $1(a,e){const i=typeof a=="object"?a:HT(),s=typeof a=="string"?a:ko,u=BT(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=I0("firestore");h&&Z1(u,...h)}return u}function Rd(a){if(a._terminated)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||J1(a),a._firestoreClient}function J1(a){var e,i,s;const u=a._freezeSettings(),h=function(g,_,v,S){return new EA(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Rv(S.experimentalLongPollingOptions),S.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new G1(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(ke.fromBase64String(e))}catch(i){throw new ot(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ta(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=/^__.*__$/;class tb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}class Vv{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Ov(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Vd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.$u(e),u}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.Bu(),u}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ov(this.Lu)&&W1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class eb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||ac(e)}ju(e,i,s,u=!1){return new Vd({Lu:e,methodName:i,zu:s,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(a){const e=a._freezeSettings(),i=ac(a._databaseId);return new eb(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Iv(a,e,i,s,u,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,u);Id("Data must be an object, but it was:",d,s);const g=Nv(s,d);let _,v;if(h.merge)_=new dn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const O of h.mergeFields){const z=Xf(e,O,i);if(!d.contains(z))throw new ot(K.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);xv(S,z)||S.push(z)}_=new dn(S),v=d.fieldTransforms.filter(O=>_.covers(O.field))}else _=null,v=d.fieldTransforms;return new tb(new rn(g),_,v)}class fc extends wd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fc}}function nb(a,e,i,s){const u=a.ju(1,e,i);Id("Data must be an object, but it was:",u,s);const h=[],d=rn.empty();Nr(s,(_,v)=>{const S=Nd(e,_,i);v=Rr(v);const O=u.Ku(S);if(v instanceof fc)h.push(S);else{const z=dc(v,O);z!=null&&(h.push(S),d.set(S,z))}});const g=new dn(h);return new Vv(d,g,u.fieldTransforms)}function ib(a,e,i,s,u,h){const d=a.ju(1,e,i),g=[Xf(e,s,i)],_=[u];if(h.length%2!=0)throw new ot(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<h.length;z+=2)g.push(Xf(e,h[z])),_.push(h[z+1]);const v=[],S=rn.empty();for(let z=g.length-1;z>=0;--z)if(!xv(v,g[z])){const j=g[z];let X=_[z];X=Rr(X);const tt=d.Ku(j);if(X instanceof fc)v.push(j);else{const Z=dc(X,tt);Z!=null&&(v.push(j),S.set(j,Z))}}const O=new dn(v);return new Vv(S,O,d.fieldTransforms)}function dc(a,e){if(Mv(a=Rr(a)))return Id("Unsupported field value:",e,a),Nv(a,e);if(a instanceof wd)return function(s,u){if(!Ov(u.Lu))throw u.Wu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let _=dc(g,u.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if((s=Rr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:Fo(u.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fo(u.serializer,h)}}if(s instanceof Dd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ta)return{bytesValue:F_(u.serializer,s._byteString)};if(s instanceof sn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:cd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Cd)return function(d,g){return{mapValue:{fields:{[A_]:{stringValue:S_},[qo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return ad(g.serializer,v)})}}}}}}(s,u);throw u.Wu(`Unsupported field value: ${bd(s)}`)}(a,e)}function Nv(a,e){const i={};return p_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(a,(s,u)=>{const h=dc(u,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function Mv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof Dd||a instanceof Ta||a instanceof sn||a instanceof wd||a instanceof Cd)}function Id(a,e,i){if(!Mv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=bd(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function Xf(a,e,i){if((e=Rr(e))instanceof hc)return e._internalPath;if(typeof e=="string")return Nd(a,e);throw Zo("Field path arguments must be of type string or ",a,!1,void 0,i)}const rb=new RegExp("[~\\*/\\[\\]]");function Nd(a,e,i){if(e.search(rb)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new hc(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Zo(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${u}`),_+=")"),new ot(K.INVALID_ARGUMENT,g+a+_)}function xv(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Lv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class sb extends Uv{data(){return super.data()}}function Lv(a,e){return typeof e=="string"?Nd(a,e):e instanceof hc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lb{convertValue(e,i="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Nr(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[qo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new Cd(h)}convertGeoPoint(e){return new Dd(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Wo(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Ht(J_(s));const u=new Kl(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return u.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bv extends Uv{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Lv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class xo extends Bv{data(e={}){return super.data(e)}}class ub{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Bl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new xo(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:ob(g.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ob(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(a){a=Bn(a,sn);const e=Bn(a.firestore,_s);return K1(Rd(e),a._key).then(i=>pb(e,a,i))}class Pv extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,i)}}function hb(a){a=Bn(a,cc);const e=Bn(a.firestore,_s),i=Rd(e),s=new Pv(e);return ab(a._query),Y1(i,a._query).then(u=>new ub(e,s,a,u))}function fb(a,e,i){a=Bn(a,sn);const s=Bn(a.firestore,_s),u=zv(a.converter,e);return mc(s,[Iv(Od(s),"setDoc",a._key,u,a.converter!==null,i).toMutation(a._key,In.none())])}function db(a,e,i,...s){a=Bn(a,sn);const u=Bn(a.firestore,_s),h=Od(u);let d;return d=typeof(e=Rr(e))=="string"||e instanceof hc?ib(h,"updateDoc",a._key,e,i,s):nb(h,"updateDoc",a._key,e),mc(u,[d.toMutation(a._key,In.exists(!0))])}function mb(a){return mc(Bn(a.firestore,_s),[new ld(a._key,In.none())])}function gb(a,e){const i=Bn(a.firestore,_s),s=eu(a),u=zv(a.converter,e);return mc(i,[Iv(Od(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,In.exists(!1))]).then(()=>s)}function mc(a,e){return function(s,u){const h=new Mi;return s.asyncQueue.enqueueAndForget(async()=>U1(await F1(s),u,h)),h.promise}(Rd(a),e)}function pb(a,e,i){const s=i.docs.get(e._key),u=new Pv(a);return new Bv(a,u,e._key,s,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Sa=u})(jT),Bo(new Hl("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new _s(new rA(s.getProvider("auth-internal")),new lA(d,s.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(v.options.projectId,S)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),da(ny,iy,e),da(ny,iy,"esm2017")})();const yb={apiKey:"AIzaSyCZYnIl6yBE4urG8IOhA33qFON-H0TF8C4",authDomain:"storyquest-d29ee.firebaseapp.com",projectId:"storyquest-d29ee",storageBucket:"storyquest-d29ee.firebasestorage.app",messagingSenderId:"809857784528",appId:"1:809857784528:web:bdb11a8a321576be96dcd5"},_b=r_(yb),Da=$1(_b);async function Md(){const a=Cv(Da,"stories");return(await hb(a)).docs.map(s=>({id:s.id,...s.data()}))}async function vb(a){const e=Cv(Da,"stories");return(await gb(e,a)).id}async function Eb(a,e){const i=eu(Da,"stories",a);await db(i,e)}async function Tb(a){const e=eu(Da,"stories",a);await mb(e)}async function kv(){const a=eu(Da,"progress","user"),e=await cb(a);return e.exists()?e.data():null}async function Cf(a){const e=eu(Da,"progress","user");await fb(e,a)}function Ab({onSelect:a,onManageStories:e}){const[i,s]=Ae.useState([]),[u,h]=Ae.useState(null);Ae.useEffect(()=>{async function g(){const _=await Md();s(_);const v=await kv();h(v)}g()},[]);const d=i.filter(g=>g.endingsCount!==void 0);return W.jsxs("div",{style:{border:"1px solid #ccc",padding:20,textAlign:"center"},children:[W.jsx("h2",{children:"StoryQuest"}),W.jsx("p",{children:"Please choose your story"}),W.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:d.map(g=>{var O;const v=(((O=u==null?void 0:u.discoveredEndings)==null?void 0:O[g.id])||[]).length,S=g.endingsCount||0;return W.jsxs("div",{style:{border:"1px solid #aaa",padding:10,width:100},children:[W.jsx("h4",{children:g.title}),W.jsxs("p",{children:["Endings: ",v," / ",S]}),W.jsx("button",{onClick:()=>a(g.id,"new"),children:"New"}),W.jsx("button",{onClick:()=>a(g.id,"resume"),children:"Resume"})]},g.id)})}),W.jsx("button",{style:{marginTop:20},onClick:e,children:"Manage Stories"})]})}function Zy({onClose:a}){return W.jsxs("div",{style:{border:"1px solid #ccc",padding:20,margin:"20px 0"},children:[W.jsx("h3",{children:"StoryQuest Tutorial"}),W.jsx("p",{children:"Welcome to StoryQuest! This is an interactive storytelling game."}),W.jsx("p",{children:"You can make choices at each step. Different choices lead to different story paths and endings."}),W.jsx("p",{children:"Try different paths to discover all the endings!"}),W.jsx("button",{onClick:a,children:"Got it!"})]})}function Sb({path:a}){return!a||a.length===0?null:W.jsxs("div",{style:{marginTop:20},children:[W.jsx("h4",{children:"Path"}),W.jsx("p",{children:a.join(" -> ")})]})}function bb({storyTitle:a,node:e,path:i,onChoice:s,onRestart:u}){if(!e)return W.jsx("div",{children:"Loading..."});const h=!e.choices||e.choices.length===0;return W.jsxs("div",{style:{border:"1px solid #ccc",padding:20},children:[W.jsx("h2",{children:a}),h?W.jsxs(W.Fragment,{children:[W.jsx("h3",{children:"Ending"}),W.jsx("p",{children:e.text}),W.jsx("button",{onClick:u,children:"Restart"})]}):W.jsxs(W.Fragment,{children:[W.jsx("p",{children:e.text}),e.choices.map((d,g)=>W.jsx("div",{style:{marginBottom:"8px"},children:W.jsx("button",{onClick:()=>s(d.next),children:d.label})},g)),W.jsx("button",{onClick:u,children:"Restart"})]}),W.jsx(Sb,{path:i})]})}function Rb(a,e,i=[]){return{id:a,text:e,choices:i,isEnding:i.length===0}}function wb({onCloseCRUD:a}){const[e,i]=Ae.useState([]),[s,u]=Ae.useState(null),[h,d]=Ae.useState(""),[g,_]=Ae.useState(""),[v,S]=Ae.useState(0),[O,z]=Ae.useState("[]");async function j(){const et=await Md();i(et)}Ae.useEffect(()=>{j()},[]);function X(et){u(et),d(et.title||""),_(et.description||""),S(et.endingsCount||0),z(JSON.stringify(et.nodes||[],null,2))}async function tt(){const Lt=gt(O).map(ht=>Rb(ht.id,ht.text,ht.choices)),lt={title:h,description:g,endingsCount:Number(v),nodes:Lt};s?await Eb(s.id,lt):await vb(lt),await j(),vt()}async function Z(et){window.confirm("Are you sure you want to delete this story?")&&(await Tb(et),j())}function vt(){u(null),d(""),_(""),S(0),z("[]")}function gt(et){try{return JSON.parse(et)}catch{return alert("Invalid JSON format in nodes. Please check."),[]}}return W.jsxs("div",{style:{border:"1px solid #ccc",padding:20},children:[W.jsx("h2",{children:"Manage Stories"}),W.jsx("button",{onClick:a,children:"Back"}),W.jsxs("div",{style:{display:"flex",gap:"2rem",marginTop:"1rem"},children:[W.jsxs("div",{style:{flex:1},children:[W.jsx("h3",{children:"Stories"}),W.jsx("ul",{children:e.map(et=>W.jsxs("li",{style:{marginBottom:"8px"},children:[W.jsx("strong",{children:et.title}),W.jsx("button",{onClick:()=>X(et),style:{marginLeft:"8px"},children:"Edit"}),W.jsx("button",{onClick:()=>Z(et.id),style:{marginLeft:"8px"},children:"Delete"})]},et.id))})]}),W.jsxs("div",{style:{flex:1},children:[W.jsx("h3",{children:s?"Edit Story":"Create Story"}),W.jsxs("div",{children:[W.jsx("label",{children:"Title: "}),W.jsx("input",{value:h,onChange:et=>d(et.target.value),style:{width:"100%"}})]}),W.jsxs("div",{children:[W.jsx("label",{children:"Description: "}),W.jsx("input",{value:g,onChange:et=>_(et.target.value),style:{width:"100%"}})]}),W.jsxs("div",{children:[W.jsx("label",{children:"Endings Count: "}),W.jsx("input",{type:"number",value:v,onChange:et=>S(et.target.value),style:{width:"100%"}})]}),W.jsxs("div",{children:[W.jsx("label",{children:"Nodes (JSON):"}),W.jsx("textarea",{rows:8,value:O,onChange:et=>z(et.target.value),style:{width:"100%"}})]}),W.jsx("button",{onClick:tt,children:s?"Update":"Create"}),W.jsx("button",{onClick:vt,style:{marginLeft:"8px"},children:"Cancel"})]})]})]})}function Db(){const[a,e]=Ae.useState("list"),[i,s]=Ae.useState(!0),[u,h]=Ae.useState(null),[d,g]=Ae.useState(null),[_,v]=Ae.useState([]),[S,O]=Ae.useState(null),[z,j]=Ae.useState([]);Ae.useEffect(()=>{async function lt(){const C=await Md();j(C)}lt();async function ht(){const C=await kv();C?(C.discoveredEndings||(C.discoveredEndings={}),O(C)):O({discoveredEndings:{}})}ht()},[]);function X(){s(!1)}function tt(){e("manage")}function Z(){e("list")}async function vt(lt,ht){const C=z.find(b=>b.id===lt);if(!C){alert("Story not found!");return}if(ht==="new"){if(!C.nodes||C.nodes.length===0){alert("No nodes in this story!");return}const b=C.nodes[0];h(C),g(b),v([b.id]);const A={...S||{discoveredEndings:{}},storyId:C.id,nodeId:b.id,path:[b.id]};O(A),await Cf(A),e("game")}else{if(!S){alert("Progress not loaded yet.");return}if(!S.storyId||S.storyId!==C.id){alert("No saved progress for this story, starting a new game."),vt(lt,"new");return}const b=S.nodeId,A=C.nodes.find(D=>D.id===b);h(C),g(A||C.nodes[0]),v(S.path||[A==null?void 0:A.id]),e("game")}}async function gt(lt){if(!u||!S)return;const ht=u.nodes.find(A=>A.id===lt);if(!ht){alert("Node not found!");return}const C=[..._,ht.id];g(ht),v(C);const b={...S,storyId:u.id,nodeId:ht.id,path:C,discoveredEndings:{...S.discoveredEndings||{}}};b.discoveredEndings[u.id]||(b.discoveredEndings[u.id]=[]),(!ht.choices||ht.choices.length===0)&&(b.discoveredEndings[u.id].includes(ht.id)||b.discoveredEndings[u.id].push(ht.id)),O(b),await Cf(b)}async function et(){if(!u||!u.nodes||u.nodes.length===0||!S)return;const lt=u.nodes[0];g(lt),v([lt.id]);const ht={...S,storyId:u.id,nodeId:lt.id,path:[lt.id]};O(ht),await Cf(ht)}const Lt=Object.values((S==null?void 0:S.discoveredEndings)||{}).reduce((lt,ht)=>lt+ht.length,0);return a==="manage"?W.jsx(wb,{onCloseCRUD:Z}):a==="game"?W.jsxs("div",{style:{padding:20},children:[i&&W.jsx(Zy,{onClose:X}),W.jsx(bb,{storyTitle:(u==null?void 0:u.title)||"Untitled",node:d,path:_,onChoice:gt,onRestart:et}),W.jsx("button",{style:{marginTop:20},onClick:()=>e("list"),children:"Back to Story List"})]}):W.jsxs("div",{style:{padding:20},children:[W.jsx("h1",{style:{textAlign:"center"},children:"StoryQuest"}),i&&W.jsx(Zy,{onClose:X}),W.jsxs("p",{style:{textAlign:"center"},children:["Total Endings Discovered: ",Lt]}),W.jsx(Ab,{onSelect:vt,onManageStories:tt})]})}E0.createRoot(document.getElementById("root")).render(W.jsx(Ae.StrictMode,{children:W.jsx(Db,{})}));
